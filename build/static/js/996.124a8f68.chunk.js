"use strict";(self.webpackChunkfe_client=self.webpackChunkfe_client||[]).push([[996],{3460:function(e,n,i){i.d(n,{Nl:function(){return l},Nn:function(){return o},XQ:function(){return t}});var s=i(9699),t=function(){return(0,s.mR)("/api/v1/topic/list")},l=function(){return(0,s.mR)("/api/v1/topic/full-list")},o=function(){return(0,s.mR)("/api/v1/topic/full-with-deleted")}},7996:function(e,n,i){i.r(n),i.d(n,{default:function(){return A}});var s=i(1413),t=i(5861),l=i(9439),o=i(7757),r=i.n(o),c=i(8875),a=i(7546),d=i(506),u=i(6922),v=i(505),x=i(729),m=i(7661),h=i(7083),f=i(7528),p=i(9220),j=i(785),b=i(4814),g=i(4411),Z=i(3794),y=i(3460),N=i(4710),w=i(6915),q=i(2410),C=i(2791),_=i(6030),k=i(9271),E=i(184),O=m.Z.TabPane,S=function(e){var n,i,s,t=e.data,o=e.currentOrder,r=(0,C.useState)(0),c=(0,l.Z)(r,2),a=c[0],d=c[1];return(0,C.useEffect)((function(){if(void 0===t)d(0);else{var e,n=0;null===t||void 0===t||null===(e=t.submissions)||void 0===e||e.map((function(e){e.correct&&n++})),d(n)}}),[t]),(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("div",{className:"sticky-sidebar",children:(0,E.jsxs)("div",{className:"post-index hidden-sm-down",children:[(0,E.jsxs)("div",{className:"section-title-line",children:[(0,E.jsx)("h5",{className:"text-uppercase",children:"Question List"}),(0,E.jsx)("h2",{children:"".concat(a," / ").concat(null!==(n=null===t||void 0===t||null===(i=t.questions)||void 0===i?void 0:i.length)&&void 0!==n?n:0)})]}),(0,E.jsxs)("div",{className:"status-answer d-flex",children:[(0,E.jsx)("span",{className:"correct",children:"Corrected"}),(0,E.jsx)("span",{className:"incorrect",children:"Incorrected"})]}),(0,E.jsx)("hr",{}),(0,E.jsx)("div",{className:"question-container d-flex",children:null===t||void 0===t||null===(s=t.questions)||void 0===s?void 0:s.map((function(e,n){var i;return(0,E.jsx)(I,{item:e,index:n,currentOrder:o,submissionsItem:null===t||void 0===t||null===(i=t.submissions)||void 0===i?void 0:i.find((function(n){return n.question_id===e._id}))},e._id)}))})]})})})},I=function(e){e.item;var n=e.index,i=e.currentOrder,s=e.submissionsItem,t=(0,k.useHistory)(),l=(0,k.useLocation)(),o="list-item";return null!==s&&void 0!==s&&s.correct?o+=" correct":o+=" incorrect",n+1===i&&(o+=" selected"),(0,E.jsx)("span",{onClick:function(){return t.push("".concat(l.pathname,"?question=").concat(n+1))},className:o,children:(0,E.jsx)("span",{className:"text text-test",children:n+1})})},P=function(e){var n,i,s,t,l,o,r,c=e.item,a=(e.saveSelectedChoice,e.data),d=(e.setData,e.currentOrder,(0,k.useHistory)()),u=(0,k.useLocation)(),m=(0,_.v9)((function(e){var n;return null===(n=e.persist.user)||void 0===n?void 0:n.user}));return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{className:"count-question",children:[(0,E.jsxs)("h1",{children:["Question ",c.index]}),(0,E.jsx)("div",{className:"question-content",dangerouslySetInnerHTML:{__html:null===c||void 0===c?void 0:c.question}}),(0,E.jsx)("hr",{}),!(null!==m&&void 0!==m&&null!==(n=m.pricing)&&void 0!==n&&null!==(i=n.abilities)&&void 0!==i&&i.includes("62b290ea2c130943d42c8995"))&&(0,E.jsx)("h6",{className:"text-center",style:{color:"red"},children:"Upgrade your account to see right answer"}),(0,E.jsx)("ul",{className:"choose-answer answer-mode",children:null===c||void 0===c||null===(s=c.choices)||void 0===s?void 0:s.map((function(e,n){var i,s,t,l,o,r,d,u;return(0,E.jsx)("li",{className:(null===a||void 0===a||null===(i=a.questions)||void 0===i||null===(s=i.find((function(e){return e._id===c._id})))||void 0===s?void 0:s.answer)===e._id&&((null===m||void 0===m||null===(t=m.pricing)||void 0===t||null===(l=t.abilities)||void 0===l?void 0:l.includes("62b290ea2c130943d42c8995"))||"admin"===(null===m||void 0===m||null===(o=m.user)||void 0===o||null===(r=o.role)||void 0===r?void 0:r.name))&&"correct-choice",children:(0,E.jsx)(x.Z,{defaultChecked:(null===a||void 0===a||null===(d=a.submissions)||void 0===d||null===(u=d.find((function(e){return e.question_id===c._id})))||void 0===u?void 0:u.answers)===e._id,label:e.label,name:"group".concat(c._id),type:"radio",id:"inline-radio-".concat(e._id)})},e._id)}))}),(0,E.jsx)("hr",{}),""!==(null===c||void 0===c?void 0:c.explanation)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("h5",{children:"Explanation"}),(0,E.jsx)(j.Z,{message:(0,E.jsx)("div",{className:"question-content-container",style:{position:"relative"},children:null!==m&&void 0!==m&&null!==(t=m.pricing)&&void 0!==t&&null!==(l=t.abilities)&&void 0!==l&&l.includes("62b290ea2c130943d42c8996")?(0,E.jsx)("div",{style:{maxWidth:"810px"},className:"question-content",dangerouslySetInnerHTML:{__html:null===c||void 0===c?void 0:c.explanation}}):"admin"!==(null===m||void 0===m||null===(o=m.user)||void 0===o||null===(r=o.role)||void 0===r?void 0:r.name)?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{style:{maxWidth:"810px"},className:"question-content normal",dangerouslySetInnerHTML:{__html:null===c||void 0===c?void 0:c.explanation}}),(0,E.jsx)(v.Z,{children:"Upgrade your account to use our service"})]}):(0,E.jsx)("div",{style:{maxWidth:"810px"},className:"question-content",dangerouslySetInnerHTML:{__html:null===c||void 0===c?void 0:c.explanation}})}),type:"info"}),(0,E.jsx)("hr",{})]}),(0,E.jsxs)("div",{className:"question-action",children:[(0,E.jsx)(v.Z,{onClick:function(){d.push("".concat(u.pathname,"?question=").concat(c.index-1))},disabled:c.first,className:"btn-back",children:"Go back to previous"}),(0,E.jsx)(v.Z,{disabled:c.last,onClick:function(){d.push("".concat(u.pathname,"?question=").concat(c.index+1))},children:"Next question"}),"exam"===(null===a||void 0===a?void 0:a.type)&&(0,E.jsx)(v.Z,{onClick:function(){return window.location="/exams/".concat(null===a||void 0===a?void 0:a._id)},className:"btn-submit",children:"Try Test Again"})]})]})})},A=function(){var e,n,i,o,x,j=(0,_.v9)((function(e){var n;return null===(n=e.persist.user)||void 0===n?void 0:n.user})),I=(0,C.useState)(""),A=(0,l.Z)(I,2),R=A[0],T=A[1],L=(0,k.useLocation)(),H=(0,C.useState)([]),U=(0,l.Z)(H,2),z=U[0],F=U[1],M=(0,_.I0)(),Q=(0,_.v9)((function(e){return e.exam.exam})),$=null===new URLSearchParams(L.search).get("question")?1:parseInt(new URLSearchParams(L.search).get("question")),D=(0,k.useParams)().hashIdExamSession,W=(0,C.useState)(!1),X=(0,l.Z)(W,2),B=X[0],G=X[1];(0,C.useEffect)((function(){(0,t.Z)(r().mark((function e(){var n,i,t,l,o,c,a,d,u,v,x;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M((0,q.Xt)(!0)),G(!0),e.next=5,(0,Z.Mu)({userExam:D});case 5:return v=e.sent,e.next=8,(0,y.Nn)();case 8:x=e.sent,K((0,s.Z)((0,s.Z)({},null===v||void 0===v||null===(n=v.data)||void 0===n?void 0:n.exam.result.exam),{},{questions:null===v||void 0===v||null===(i=v.data)||void 0===i||null===(t=i.exam.result)||void 0===t||null===(l=t.exam)||void 0===l||null===(o=l.questions)||void 0===o||null===(c=o.filter((function(e){var n,i;return null===v||void 0===v||null===(n=v.data)||void 0===n||null===(i=n.exam.newSubmissions)||void 0===i?void 0:i.some((function(n){return n.question_id===e._id}))})))||void 0===c?void 0:c.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{question:void 0!==(null===e||void 0===e?void 0:e.question)?decodeURIComponent(escape(window.atob(null===e||void 0===e?void 0:e.question))):"",explanation:void 0!==(null===e||void 0===e?void 0:e.explanation)?decodeURIComponent(escape(window.atob(null===e||void 0===e?void 0:e.explanation))):""})})),submissions:null===v||void 0===v||null===(a=v.data)||void 0===a?void 0:a.exam.newSubmissions,result:null===v||void 0===v||null===(d=v.data)||void 0===d?void 0:d.exam.result})),F(null===x||void 0===x||null===(u=x.data)||void 0===u?void 0:u.topic),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:return e.prev=16,G(!1),M((0,q.Xt)(!1)),e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[0,13,16,20]])})))()}),[]);var K=function(e){M((0,N.w0)(e))};return(0,C.useEffect)((function(){""!==Q&&T(null===$?(0,s.Z)((0,s.Z)({},Q.questions[0]),{},{first:!0,index:0,last:!1}):(0,s.Z)((0,s.Z)({},Q.questions[$-1]),{},{first:!1,index:$,last:$===Q.questions.length}))}),[Q]),(0,C.useEffect)((function(){""!==Q&&T(null===$?(0,s.Z)((0,s.Z)({},Q.questions[0]),{},{first:!0,index:0,last:!1}):(0,s.Z)((0,s.Z)({},Q.questions[$-1]),{},{first:1===$,index:$,last:$===Q.questions.length}))}),[L.search]),(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(h.Z,{tip:"Loading...",size:"large",spinning:B,children:(0,E.jsx)(c.Z,{className:"d-flex container-card",children:(0,E.jsxs)(m.Z,{defaultActiveKey:"1",destroyInactiveTabPane:!0,className:"tabs-answer",children:[(0,E.jsxs)(O,{tab:"Detail Answer Quiz",children:[(0,E.jsxs)(a.Z,{className:"d-flex mt-3",children:[(0,E.jsx)(d.Z,{className:"layout-container-body answer quiz",children:(0,E.jsx)(S,{data:Q,currentOrder:$})}),(0,E.jsx)(d.Z,{className:"layout-container-top quiz",children:(0,E.jsx)(P,{item:R,currentOrder:$,data:Q,setData:K})})]}),"l"]},"1"),(0,E.jsx)(O,{tab:"Answer result statistics",children:null!==j&&void 0!==j&&null!==(e=j.pricing)&&void 0!==e&&null!==(n=e.abilities)&&void 0!==n&&n.includes("62b290ea2c130943d42c8997")||"admin"===(null===j||void 0===j||null===(i=j.user)||void 0===i||null===(o=i.role)||void 0===o?void 0:o.name)?(0,E.jsxs)(a.Z,{children:[(0,E.jsxs)("div",{style:{marginBottom:"20px",marginTop:"20px"},children:[(0,E.jsx)("h3",{children:"Topic division"}),(0,E.jsx)(b.Z,(0,s.Z)({width:500},(0,w.PM)(null===Q||void 0===Q?void 0:Q.questions,z)))]}),(0,E.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,E.jsx)("h3",{children:"Answer rate"}),(0,E.jsx)(b.Z,(0,s.Z)({width:400},(0,w.bv)(null===Q||void 0===Q?void 0:Q.questions,null===Q||void 0===Q?void 0:Q.submissions)))]}),void 0!==(null===Q||void 0===Q?void 0:Q.questions)&&0!==z.length&&void 0!==(null===Q||void 0===Q?void 0:Q.submissions)&&(0,E.jsx)(g.S5,{data:(0,w.H$)(null===Q||void 0===Q?void 0:Q.questions,z,null===Q||void 0===Q?void 0:Q.submissions)}),(0,E.jsxs)(u.Z,{striped:!0,bordered:!0,hover:!0,className:"my-4",children:[(0,E.jsx)("thead",{children:(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{children:"#"}),(0,E.jsx)("th",{children:"Result"}),(0,E.jsx)("th",{children:"Question"}),(0,E.jsx)("th",{children:"Topic"}),(0,E.jsx)("th",{style:{textAlign:"center"},children:"Relative Document"})]})}),(0,E.jsx)("tbody",{className:"result-report",children:null===Q||void 0===Q||null===(x=Q.submissions)||void 0===x?void 0:x.map((function(e,n){var i,s=null===Q||void 0===Q?void 0:Q.questions.find((function(n){return e.question_id===n._id})),t="";return t=""===(null===e||void 0===e?void 0:e.answers)?"No Answer":e.correct?"Correct":"Incorrect",(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:n+1}),(0,E.jsxs)("td",{className:"td-correct-wrong",children:["No Answer"===t&&(0,E.jsx)(f.Z,{color:"#108ee9",children:t}),"Correct"===t&&(0,E.jsx)(f.Z,{color:"#87d068",children:t}),"Incorrect"===t&&(0,E.jsx)(f.Z,{color:"#f50",children:t})]}),(0,E.jsx)("td",{className:"td-question",children:(0,E.jsx)(p.Z,{title:s.question.replaceAll(/<\/?[^>]+(>|$)/g,"").replaceAll("&nbsp;"," "),children:s.question.replaceAll(/<\/?[^>]+(>|$)/g,"").replaceAll("&nbsp;"," ")})}),(0,E.jsx)("td",{children:null===z||void 0===z||null===(i=z.find((function(e){return e._id===s.topic})))||void 0===i?void 0:i.title}),(0,E.jsx)("td",{style:{textAlign:"center"},children:(0,E.jsx)("a",{href:"/lessons/".concat(s.lesson),target:"_blank",rel:"noreferrer",children:"Go to document"})})]},e._id)}))})]})]}):(0,E.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:(0,E.jsx)(v.Z,{children:"Upgrade your account to use our service"})})},"2")]})})})})}},6922:function(e,n,i){var s=i(7462),t=i(3366),l=i(1694),o=i.n(l),r=i(2791),c=i(9496),a=r.forwardRef((function(e,n){var i=e.bsPrefix,l=e.className,a=e.striped,d=e.bordered,u=e.borderless,v=e.hover,x=e.size,m=e.variant,h=e.responsive,f=(0,t.Z)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),p=(0,c.vE)(i,"table"),j=o()(l,p,m&&p+"-"+m,x&&p+"-"+x,a&&p+"-striped",d&&p+"-bordered",u&&p+"-borderless",v&&p+"-hover"),b=r.createElement("table",(0,s.Z)({},f,{className:j,ref:n}));if(h){var g=p+"-responsive";return"string"===typeof h&&(g=g+"-"+h),r.createElement("div",{className:g},b)}return b}));n.Z=a},7528:function(e,n,i){i.d(n,{Z:function(){return Z}});var s=i(4942),t=i(7462),l=i(9439),o=i(2791),r=i(1694),c=i.n(r),a=i(1818),d=i(732),u=i(9077),v=function(e,n){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(s=Object.getOwnPropertySymbols(e);t<s.length;t++)n.indexOf(s[t])<0&&Object.prototype.propertyIsEnumerable.call(e,s[t])&&(i[s[t]]=e[s[t]])}return i},x=function(e){var n,i=e.prefixCls,l=e.className,r=e.checked,a=e.onChange,d=e.onClick,x=v(e,["prefixCls","className","checked","onChange","onClick"]),m=(0,o.useContext(u.E_).getPrefixCls)("tag",i),h=c()(m,(n={},(0,s.Z)(n,"".concat(m,"-checkable"),!0),(0,s.Z)(n,"".concat(m,"-checkable-checked"),r),n),l);return o.createElement("span",(0,t.Z)({},x,{className:h,onClick:function(e){null===a||void 0===a||a(!r),null===d||void 0===d||d(e)}}))},m=i(4466),h=i(2833),f=function(e,n){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(s=Object.getOwnPropertySymbols(e);t<s.length;t++)n.indexOf(s[t])<0&&Object.prototype.propertyIsEnumerable.call(e,s[t])&&(i[s[t]]=e[s[t]])}return i},p=new RegExp("^(".concat(m.Y.join("|"),")(-inverse)?$")),j=new RegExp("^(".concat(m.E.join("|"),")$")),b=function(e,n){var i,r=e.prefixCls,v=e.className,x=e.style,m=e.children,b=e.icon,g=e.color,Z=e.onClose,y=e.closeIcon,N=e.closable,w=void 0!==N&&N,q=f(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),C=o.useContext(u.E_),_=C.getPrefixCls,k=C.direction,E=o.useState(!0),O=(0,l.Z)(E,2),S=O[0],I=O[1];o.useEffect((function(){"visible"in q&&I(q.visible)}),[q.visible]);var P=function(){return!!g&&(p.test(g)||j.test(g))},A=(0,t.Z)({backgroundColor:g&&!P()?g:void 0},x),R=P(),T=_("tag",r),L=c()(T,(i={},(0,s.Z)(i,"".concat(T,"-").concat(g),R),(0,s.Z)(i,"".concat(T,"-has-color"),g&&!R),(0,s.Z)(i,"".concat(T,"-hidden"),!S),(0,s.Z)(i,"".concat(T,"-rtl"),"rtl"===k),i),v),H=function(e){e.stopPropagation(),null===Z||void 0===Z||Z(e),e.defaultPrevented||"visible"in q||I(!1)},U="onClick"in q||m&&"a"===m.type,z=(0,a.Z)(q,["visible"]),F=b||null,M=F?o.createElement(o.Fragment,null,F,o.createElement("span",null,m)):m,Q=o.createElement("span",(0,t.Z)({},z,{ref:n,className:L,style:A}),M,w?y?o.createElement("span",{className:"".concat(T,"-close-icon"),onClick:H},y):o.createElement(d.Z,{className:"".concat(T,"-close-icon"),onClick:H}):null);return U?o.createElement(h.Z,null,Q):Q},g=o.forwardRef(b);g.displayName="Tag",g.CheckableTag=x;var Z=g}}]);
//# sourceMappingURL=996.124a8f68.chunk.js.map