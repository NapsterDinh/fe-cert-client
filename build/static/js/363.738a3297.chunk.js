"use strict";(self.webpackChunkfe_client=self.webpackChunkfe_client||[]).push([[363],{2040:function(e,n,t){t.d(n,{Z:function(){return x}});var a=t(5861),s=t(9439),i=t(7757),r=t.n(i),c=t(2791),o=function(e){return[Math.floor(e/864e5),Math.floor(e%864e5/36e5),Math.floor(e%36e5/6e4),Math.floor(e%6e4/1e3)]},u=function(e){var n=new Date(e).getTime(),t=(0,c.useState)(n-(new Date).getTime()),a=(0,s.Z)(t,2),i=a[0],r=a[1];return(0,c.useEffect)((function(){var e=setInterval((function(){r(n-(new Date).getTime())}),1e3);return function(){return clearInterval(e)}}),[n]),o(i)},l=t(184),d=function(){return(0,l.jsxs)("div",{className:"expired-notice",children:[(0,l.jsx)("span",{children:"Expired!!!"}),(0,l.jsx)("p",{children:"Please select a future date and time."})]})},m=function(e){e.days;var n=e.hours,t=e.minutes,a=e.seconds;return(0,l.jsxs)("div",{className:"show-counter d-flex",children:[(0,l.jsx)(v,{value:n,type:"h",isDanger:!1}),(0,l.jsx)(v,{value:t,type:"m",isDanger:!1}),(0,l.jsx)(v,{value:a,type:"s",isDanger:!1})]})},v=function(e){var n=e.value,t=e.type,a=e.isDanger;return(0,l.jsx)("div",{className:a?"countdown danger mx-1":"countdown mx-1",children:(0,l.jsx)("h2",{children:"".concat(n).concat(t)})})},x=function(e){var n=e.targetDate,t=e.onSubmitExam,i=u(n),c=(0,s.Z)(i,4),o=c[0],v=c[1],x=c[2],f=c[3];return o+v+x+f<0?((0,a.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})))(),(0,l.jsx)(d,{})):(0,l.jsx)(m,{days:o,hours:v,minutes:x,seconds:f})}},2800:function(e,n,t){t.d(n,{F:function(){return u}});var a=t(1413),s=t(5987),i=t(8196),r=t(505),c=t(184),o=["nameExam","onSubmit","warning"],u=function(e){var n=e.nameExam,t=e.onSubmit,u=e.warning,l=(0,s.Z)(e,o);return(0,c.jsxs)(i.Z,(0,a.Z)((0,a.Z)({},l),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,c.jsx)(i.Z.Header,{closeButton:!0,children:(0,c.jsx)(i.Z.Title,{id:"contained-modal-title-vcenter",children:n})}),(0,c.jsxs)(i.Z.Body,{children:[(0,c.jsx)("h4",{children:"Submit Exam Test"}),(0,c.jsx)("p",{children:u})]}),(0,c.jsxs)(i.Z.Footer,{children:[(0,c.jsx)(r.Z,{variant:"secondary",onClick:l.onHide,children:"Close"}),(0,c.jsx)(r.Z,{variant:"primary",onClick:t,children:"Submit"})]})]}))}},3048:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var a=t(1413),s=t(3433),i=t(5861),r=t(9439),c=t(7757),o=t.n(c),u=t(8875),l=t(506),d=t(7083),m=t(3794),v=t(2791),x=t(9271),f=t(729),p=t(505),h=t(2800),b=t(184),Z=function(e){var n,t,a=e.idExam,c=e.item,u=e.saveSelectedChoice,l=e.data,d=e.submissionArray,Z=e.setSubmissionArray,w=e.selected,y=e.setSelected,j=(0,x.useHistory)(),k=(0,v.useState)(!1),N=(0,r.Z)(k,2),S=N[0],g=N[1],E=(0,v.useState)(" Please sure you answered all of questions. After submission, you can't change any your choice of questions\n    Are you sure to submit ?"),q=(0,r.Z)(E,2),C=q[0],_=q[1],I=function(){var e=(0,i.Z)(o().mark((function e(){var n,t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===(n=(0,s.Z)(d).findIndex((function(e){return e.question_id===c._id})))){e.next=14;break}return t={exam:a,submissions:{answers:null,question_id:c._id}},e.prev=3,e.next=6,(0,m.p3)(t);case 6:y(void 0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:(i=(0,s.Z)(d)).splice(n,1),Z(i);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,i.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={exam:a},e.prev=1,e.next=4,(0,m.u_)(n);case 4:t=e.sent,window.location="/exams/".concat(a,"/attempt/").concat(t.data.exam,"/result"),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){var e=null===d||void 0===d?void 0:d.find((function(e){return e.question_id===c._id}));y(void 0!==e?e.answers:void 0)}),[d,c]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.F,{show:S,onHide:function(){return g(!1)},nameExam:null===l||void 0===l||null===(n=l.exam)||void 0===n?void 0:n.title,onSubmit:A,warning:C}),(0,b.jsxs)("div",{className:"count-question",children:[(0,b.jsxs)("h1",{children:["Question ",c.index]}),(0,b.jsx)("div",{className:"question-content",dangerouslySetInnerHTML:{__html:null===c||void 0===c?void 0:c.question}}),(0,b.jsx)("hr",{}),(0,b.jsx)("span",{children:"Choose the correct answer"}),(0,b.jsx)("ul",{className:"choose-answer",children:null===c||void 0===c||null===(t=c.choices)||void 0===t?void 0:t.map((function(e,n){return(0,b.jsx)("li",{children:(0,b.jsx)(f.Z,{checked:w===e._id,onChange:function(){return y(e._id)},label:e.label,name:"group".concat(c._id),type:"radio",id:"inline-radio-".concat(e._id)})},e._id)}))}),(0,b.jsx)("hr",{}),(0,b.jsx)("a",{onClick:(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:"clear-answer",children:"Clear Answer"}),(0,b.jsxs)("div",{className:"question-action",children:[(0,b.jsx)(p.Z,{onClick:(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(w);case 2:j.push("/exams/".concat(a,"/attempt?question=").concat(c.index-1));case 3:case"end":return e.stop()}}),e)}))),disabled:c.first,className:"btn-back",children:"Go back to previous"}),(0,b.jsx)(p.Z,{disabled:c.last,onClick:(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(w);case 2:j.push("/exams/".concat(a,"/attempt?question=").concat(c.index+1));case 3:case"end":return e.stop()}}),e)}))),children:"Save and next question"}),(0,b.jsx)(p.Z,{onClick:(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(w);case 2:(null===d||void 0===d?void 0:d.length)===(null===l||void 0===l?void 0:l.questions)&&null!==d&&void 0!==d&&d.some((function(e){return null===e.answer}))&&_("You has to finish all of question in this exam before submitting. Are you sure to keep submitting ?"),g(!0);case 4:case"end":return e.stop()}}),e)}))),className:"btn-submit",children:"Submit"})]})]})]})},w=t(2040),y=function(e){var n=e.item,t=e.index,a=e.currentOrder,s=e.submissionArray,r=e.selected,c=e.saveSelectedChoice,u=(0,x.useParams)().idExam,l=(0,x.useHistory)(),d="list-item";return void 0!==(null===s||void 0===s?void 0:s.find((function(e){return e.question_id===n._id})))&&(d+=" answered"),t+1===a&&(d+=" selected"),(0,b.jsx)("span",{onClick:(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(r);case 2:l.push("/exams/".concat(u,"/attempt?question=").concat(t+1));case 3:case"end":return e.stop()}}),e)}))),className:d,children:(0,b.jsx)("span",{className:"text text-test",children:t+1})})},j=function(e){var n,t=e.data,a=e.currentOrder,s=e.statTime,i=e.submissionArray,r=e.selected,c=(e.idExam,e.saveSelectedChoice),o=e.onSubmitExam;return(0,b.jsx)("div",{className:"sticky-sidebar",children:(0,b.jsxs)("div",{className:"post-index hidden-sm-down",children:[(0,b.jsxs)("div",{className:"section-title-line",children:[(0,b.jsx)("h5",{className:"text-uppercase",children:"Question List"}),(0,b.jsx)(w.Z,{onSubmitExam:o,targetDate:new Date(new Date(s).getTime()+1e3*parseInt(null===t||void 0===t?void 0:t.time)-1)})]}),(0,b.jsxs)("div",{className:"status-answer d-flex",children:[(0,b.jsx)("span",{children:"Available"}),(0,b.jsx)("span",{className:"answered",children:"Answered"})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("div",{className:"question-container d-flex",children:null===t||void 0===t||null===(n=t.questions)||void 0===n?void 0:n.map((function(e,n){return(0,b.jsx)(y,{submissionArray:i,item:e,index:n,currentOrder:a,selected:r,saveSelectedChoice:c},e._id)}))})]})})},k=function(){var e=(0,v.useState)(""),n=(0,r.Z)(e,2),t=n[0],c=n[1],f=(0,v.useState)(""),p=(0,r.Z)(f,2),h=p[0],w=p[1],y=(0,x.useHistory)(),k=(0,v.useState)([]),N=(0,r.Z)(k,2),S=N[0],g=N[1],E=(0,v.useState)(""),q=(0,r.Z)(E,2),C=q[0],_=q[1],I=(0,v.useState)(void 0),A=(0,r.Z)(I,2),P=A[0],F=A[1],T=(0,x.useLocation)(),D=(0,v.useState)(!1),R=(0,r.Z)(D,2),L=R[0],H=R[1],M=(0,v.useRef)(!1),O=(0,x.useParams)(),V=O.idExam,z=(O.practice,null===new URLSearchParams(T.search).get("question")?1:parseInt(new URLSearchParams(T.search).get("question"))),U=function(){var e=(0,i.Z)(o().mark((function e(n){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n){e.next=12;break}return t={exam:V,submissions:{answers:n,question_id:h._id}},e.prev=2,e.next=5,(0,m.p3)(t);case 5:(a=(0,s.Z)(S)).push({answers:n,question_id:h._id}),g(a),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}();(0,v.useEffect)((function(){(0,i.Z)(o().mark((function e(){var n,t,s,i,r,u,l,d,v,x,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f="",e.next=4,(0,m.OL)(V);case 4:f=e.sent,c((0,a.Z)((0,a.Z)({},null===(n=f)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.exam.exam),{},{questions:null===(s=f)||void 0===s||null===(i=s.data)||void 0===i||null===(r=i.exam.exam)||void 0===r?void 0:r.questions.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{question:decodeURIComponent(escape(window.atob(null===e||void 0===e?void 0:e.question))),explanation:decodeURIComponent(escape(window.atob(null===e||void 0===e?void 0:e.explanation)))})}))})),g(null===(u=f)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.exam.submissions),_(null===(d=f)||void 0===d||null===(v=d.data)||void 0===v||null===(x=v.exam)||void 0===x?void 0:x.createdAt),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),(0,v.useEffect)((function(){""!==t&&w(null===z?(0,a.Z)((0,a.Z)({},t.questions[0]),{},{first:!0,index:0,last:!1}):(0,a.Z)((0,a.Z)({},t.questions[z-1]),{},{first:!1,index:z,last:z===t.questions.length}))}),[t,z]);var B=function(){var e=(0,i.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(!0),n={exam:V},e.prev=2,!1!==M.current){e.next=9;break}return M.current=!0,e.next=7,(0,m.u_)(n);case 7:t=e.sent,y.push("/exams/".concat(V,"/attempt/").concat(t.data.exam,"/result"));case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(d.Z,{className:"spin-doing-quiz",style:{maxHeight:"none"},spinning:L,tip:"Loading...",children:(0,b.jsxs)(u.Z,{className:"d-flex container-card",children:[(0,b.jsx)(l.Z,{className:"layout-container-body quiz",children:(0,b.jsx)(j,{submissionArray:S,saveSelectedChoice:U,selected:P,data:t,idExam:V,currentOrder:z,statTime:C,onSubmitExam:B})}),(0,b.jsx)(l.Z,{className:"layout-container-top quiz",children:(0,b.jsx)(Z,{idExam:V,item:h,saveSelectedChoice:U,data:t,submissionArray:S,setSubmissionArray:g,selected:P,setSelected:F})})]})})})}},6556:function(e,n,t){var a=t(7462),s=t(3366),i=t(1694),r=t.n(i),c=t(2791),o=t(2007),u=t.n(o),l={type:u().string,tooltip:u().bool,as:u().elementType},d=c.forwardRef((function(e,n){var t=e.as,i=void 0===t?"div":t,o=e.className,u=e.type,l=void 0===u?"valid":u,d=e.tooltip,m=void 0!==d&&d,v=(0,s.Z)(e,["as","className","type","tooltip"]);return c.createElement(i,(0,a.Z)({},v,{ref:n,className:r()(o,l+"-"+(m?"tooltip":"feedback"))}))}));d.displayName="Feedback",d.propTypes=l,n.Z=d},729:function(e,n,t){t.d(n,{Z:function(){return f}});var a=t(7462),s=t(3366),i=t(1694),r=t.n(i),c=t(2791),o=t(6556),u=t(2611),l=t(3255),d=t(9496),m=c.forwardRef((function(e,n){var t=e.bsPrefix,i=e.className,o=e.htmlFor,u=(0,s.Z)(e,["bsPrefix","className","htmlFor"]),m=(0,c.useContext)(l.Z).controlId;return t=(0,d.vE)(t,"form-check-label"),c.createElement("label",(0,a.Z)({},u,{ref:n,htmlFor:o||m,className:r()(i,t)}))}));m.displayName="FormCheckLabel";var v=m,x=c.forwardRef((function(e,n){var t=e.id,i=e.bsPrefix,m=e.bsSwitchPrefix,x=e.inline,f=void 0!==x&&x,p=e.disabled,h=void 0!==p&&p,b=e.isValid,Z=void 0!==b&&b,w=e.isInvalid,y=void 0!==w&&w,j=e.feedbackTooltip,k=void 0!==j&&j,N=e.feedback,S=e.className,g=e.style,E=e.title,q=void 0===E?"":E,C=e.type,_=void 0===C?"checkbox":C,I=e.label,A=e.children,P=e.as,F=void 0===P?"input":P,T=(0,s.Z)(e,["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","as"]);i=(0,d.vE)(i,"form-check"),m=(0,d.vE)(m,"form-switch");var D=(0,c.useContext)(l.Z).controlId,R=(0,c.useMemo)((function(){return{controlId:t||D}}),[D,t]),L=null!=I&&!1!==I&&!A,H=c.createElement(u.Z,(0,a.Z)({},T,{type:"switch"===_?"checkbox":_,ref:n,isValid:Z,isInvalid:y,disabled:h,as:F}));return c.createElement(l.Z.Provider,{value:R},c.createElement("div",{style:g,className:r()(S,I&&i,f&&i+"-inline","switch"===_&&m)},A||c.createElement(c.Fragment,null,H,L&&c.createElement(v,{title:q},I),(Z||y)&&c.createElement(o.Z,{type:Z?"valid":"invalid",tooltip:k},N))))}));x.displayName="FormCheck",x.Input=u.Z,x.Label=v;var f=x},2611:function(e,n,t){var a=t(7462),s=t(3366),i=t(1694),r=t.n(i),c=t(2791),o=t(3255),u=t(9496),l=c.forwardRef((function(e,n){var t=e.id,i=e.bsPrefix,l=e.className,d=e.type,m=void 0===d?"checkbox":d,v=e.isValid,x=void 0!==v&&v,f=e.isInvalid,p=void 0!==f&&f,h=e.as,b=void 0===h?"input":h,Z=(0,s.Z)(e,["id","bsPrefix","className","type","isValid","isInvalid","as"]),w=(0,c.useContext)(o.Z).controlId;return i=(0,u.vE)(i,"form-check-input"),c.createElement(b,(0,a.Z)({},Z,{ref:n,type:m,id:t||w,className:r()(l,i,x&&"is-valid",p&&"is-invalid")}))}));l.displayName="FormCheckInput",n.Z=l},3255:function(e,n,t){var a=t(2791).createContext({controlId:void 0});n.Z=a},2625:function(e,n,t){var a=t(7462),s=t(2791),i=t(1694),r=t.n(i);n.Z=function(e){return s.forwardRef((function(n,t){return s.createElement("div",(0,a.Z)({},n,{ref:t,className:r()(n.className,e)}))}))}}}]);
//# sourceMappingURL=363.738a3297.chunk.js.map