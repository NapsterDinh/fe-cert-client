"use strict";(self.webpackChunkfe_client=self.webpackChunkfe_client||[]).push([[364],{4814:function(e,t,n){n.d(t,{w:function(){return a}});var i=n(3174),r=n(3496),o=n(184),a=function(e){var t=e.series,n=e.title,i=e.xaxis,a=e.yaxis,l=e.annotations;return(0,o.jsx)("div",{id:"chart",children:(0,o.jsx)(r.Z,{options:{chart:{height:350,type:"line",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2},toolbar:{show:!0,autoSelected:"zoom"}},colors:["#77B6EA","#545454"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:n,align:"left"},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},annotations:l,markers:{size:1},xaxis:i,yaxis:a,legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}},series:t,type:"line",height:350})})};t.Z=function(e){var t=e.series,n=e.labels,a=e.width;return(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"chart-wrap",children:(0,o.jsx)("div",{id:"chart",children:(0,o.jsx)(r.Z,{className:"chart-container",options:{chart:{width:a,type:"donut"},labels:n,dataLabels:{enabled:i.KxF},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{show:!0}}}],legend:{position:"right",offsetY:0,height:230}},series:t,type:"donut",width:a})})})})}},5364:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var i=n(1413),r=n(5861),o=n(9439),a=n(7757),l=n.n(a),s=n(7462),c=n(3366),u=n(1694),d=n.n(u),v=n(2791),f=n(239),m=n(2134),p=n(9496),x=n(5894),h=n(3540),b=n(2625),Z=n(5633),y=n(1650),g=(0,b.Z)("h4");g.displayName="DivStyledAsH4";var j=(0,Z.Z)("alert-heading",{Component:g}),w=(0,Z.Z)("alert-link",{Component:y.Z}),C={show:!0,transition:x.Z,closeLabel:"Close alert"},N=v.forwardRef((function(e,t){var n=(0,f.Ch)(e,{show:"onClose"}),i=n.bsPrefix,r=n.show,o=n.closeLabel,a=n.closeVariant,l=n.className,u=n.children,b=n.variant,Z=n.onClose,y=n.dismissible,g=n.transition,j=(0,c.Z)(n,["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"]),w=(0,p.vE)(i,"alert"),C=(0,m.Z)((function(e){Z&&Z(!1,e)})),N=!0===g?x.Z:g,k=v.createElement("div",(0,s.Z)({role:"alert"},N?void 0:j,{ref:t,className:d()(l,w,b&&w+"-"+b,y&&w+"-dismissible")}),y&&v.createElement(h.Z,{onClick:C,"aria-label":o,variant:a}),u);return N?v.createElement(N,(0,s.Z)({unmountOnExit:!0},j,{ref:void 0,in:r}),k):r?k:null}));N.displayName="Alert",N.defaultProps=C,N.Link=w,N.Heading=j;var k=N,E=n(8875),S=n(8196),P=n(505),_=n(506),O=n(4814),L=n(3794),T=n(7083),R=n(6038),F=n(6915),V=n(6030),z=n(9271),A=n(184),D=function(e){e.data;var t=e.examList;return(0,A.jsx)("div",{className:"sticky-sidebar",children:(0,A.jsxs)("div",{className:"post-index hidden-sm-down",children:[(0,A.jsxs)("div",{className:"section-title-line",style:{paddingLeft:"27px"},children:[(0,A.jsx)("h5",{className:"text-uppercase",children:"List other exam"}),(0,A.jsx)("hr",{className:"filler-line"})]}),(0,A.jsx)("ul",{className:"content-outline list-unstyled",children:null===t||void 0===t?void 0:t.map((function(e,t){return(0,A.jsx)("li",{className:"content-outline__item content-outline__item--level-3",children:(0,A.jsx)("a",{href:"/exams/".concat(e._id),className:"link",children:e.title})},e.id)}))})]})})},H=function(){var e,t,n,a=(0,v.useState)(""),s=(0,o.Z)(a,2),c=s[0],u=s[1],d=(0,v.useState)([]),f=(0,o.Z)(d,2),m=f[0],p=f[1],x=(0,z.useParams)().idExam,h=(0,z.useLocation)(),b=(0,v.useState)(""),Z=(0,o.Z)(b,2),y=Z[0],g=Z[1],j=(0,v.useState)(""),w=(0,o.Z)(j,2),C=w[0],N=w[1],H=(0,v.useState)(""),B=(0,o.Z)(H,2),I=B[0],Y=B[1],q=(0,v.useState)(""),M=(0,o.Z)(q,2),W=M[0],K=M[1],U=(0,v.useState)(!1),J=(0,o.Z)(U,2),X=J[0],$=J[1],G=(0,V.v9)((function(e){return e.persist.user.user})),Q=(0,v.useState)(!0),ee=(0,o.Z)(Q,2),te=ee[0],ne=ee[1],ie=(0,v.useState)(!1),re=(0,o.Z)(ie,2),oe=re[0],ae=re[1],le=(0,v.useState)(!1),se=(0,o.Z)(le,2),ce=se[0],ue=(se[1],(0,z.useHistory)());(0,v.useEffect)((function(){(0,r.Z)(l().mark((function e(){var t,n,i,r,o,a,s,c,d,v,f,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,L.gw)(x);case 3:return(500===(s=e.sent).status||200===s.status&&"Private"===(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.exam.exam[0].isPublic))&&(window.location="/404"),e.next=7,(0,L.pY)("exam");case 7:if(c=e.sent,void 0===(null===G||void 0===G||null===(n=G.user)||void 0===n?void 0:n.id)){e.next=13;break}return e.next=11,(0,L.Vj)(x,null===G||void 0===G?void 0:G.user.id);case 11:v=e.sent,g(null===v||void 0===v||null===(d=v.data)||void 0===d?void 0:d.exam);case 13:return e.next=15,(0,L.eT)(x);case 15:return f=e.sent,e.next=18,(0,L.yU)(x);case 18:m=e.sent,u(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.exam.exam[0]),p(null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.exam.filter((function(e){return e._id!==x}))),K(null===f||void 0===f||null===(o=f.data)||void 0===o?void 0:o.exam),N(null===m||void 0===m||null===(a=m.data)||void 0===a?void 0:a.exam),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(0);case 27:case"end":return e.stop()}}),e,null,[[0,25]])})))()}),[]),(0,v.useEffect)((function(){""!==C&&ne(!1)}),[C]);var de=function(){var e=(0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,L.u_)({exam:y.exam});case 3:if(200!==e.sent.status){e.next=9;break}return e.next=7,(0,L.ed)({exam:null===c||void 0===c?void 0:c._id,user:null===G||void 0===G?void 0:G.user.id});case 7:null!==(t=e.sent)&&void 0!==t&&t.data?window.location="/exams/".concat(null===c||void 0===c?void 0:c._id,"/attempt"):alert(t.error);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=(0,r.Z)(l().mark((function e(){var t,n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,L.J5)(x);case 3:200===(t=e.sent).status&&Y(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(i=n.exam)||void 0===i?void 0:i.result),$(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=(0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("failed"!==y.status){e.next=3;break}return ae(!0),e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,L.ed)({exam:x,user:null===G||void 0===G?void 0:G.user.id});case 6:null!==(t=e.sent)&&void 0!==t&&t.data?window.location="/exams/".concat(null===c||void 0===c?void 0:c._id,"/attempt"):alert(t.error),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,A.jsxs)(E.Z,{className:"d-flex container-card justify-content-center",children:[(0,A.jsxs)(S.Z,{show:X,onHide:function(){return $(!1)},className:"next-result-prediction",children:[(0,A.jsx)(S.Z.Header,{closeButton:!0,children:(0,A.jsx)(S.Z.Title,{children:"Next Result Prediction"})}),(0,A.jsx)(S.Z.Body,{children:""!==C&&C!==[]&&""!==I&&(0,A.jsx)(O.w,(0,i.Z)((0,i.Z)({},(0,F.j3)(C,I)),{},{title:"Result and Prediction"}))}),(0,A.jsx)(S.Z.Footer,{children:(0,A.jsx)(P.Z,{variant:"secondary",onClick:function(){return $(!1)},children:"Close"})})]}),(0,A.jsxs)(_.Z,{className:"layout-container-top exam mx-3",children:[te&&(0,A.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:(0,A.jsx)(T.Z,{size:"large"})}),!te&&(0,A.jsxs)("div",{className:"practice-all-exam",children:[(0,A.jsx)("h1",{className:"text-center",children:null===c||void 0===c?void 0:c.title}),(0,A.jsx)("div",{className:"tag-container"}),(0,A.jsx)(k,{variant:"success",children:void 0!==(null===c||void 0===c?void 0:c.content)&&(0,A.jsx)("div",{style:{whiteSpace:"pre-line",color:"#0f5132"},dangerouslySetInnerHTML:{__html:decodeURIComponent(escape(window.atob(null===c||void 0===c?void 0:c.content)))}})},"info"),(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h3",{style:{lineHeight:"84px"},children:"Statistics about this examination:"}),""!==G&&(0,A.jsx)("div",{className:"my-4 d-flex justify-content-end",children:(null===y||void 0===y?void 0:y.total)>=5&&(null===G||void 0===G||null===(e=G.pricing)||void 0===e||null===(t=e.abilities)||void 0===t?void 0:t.includes("62b290ea2c130943d42c8998"))&&(0,A.jsx)(P.Z,{variant:"secondary",onClick:ve,children:"View Next Result Prediction"})})]}),(null===y||void 0===y?void 0:y.total)<=5&&(0,A.jsx)("p",{children:"You need to test this exam at least 5 times to open result prediction"}),(0,A.jsxs)("div",{className:"alert d-flex",style:{border:"solid 1px"},children:[(0,A.jsxs)(_.Z,{children:[(0,A.jsx)("p",{style:{fontWeight:"700"},children:"Event Date:"}),(0,A.jsx)("p",{style:{fontWeight:"700"},children:"Number of applicant: "}),(0,A.jsx)("p",{style:{fontWeight:"700"},children:"Number of examinees: "}),(0,A.jsx)("p",{style:{fontWeight:"700"},children:"Pass Rate: "})]}),(0,A.jsxs)(_.Z,{children:[(0,A.jsx)("p",{children:new Date(null===W||void 0===W?void 0:W.eventDate).toLocaleString()}),(0,A.jsxs)("p",{children:[null===W||void 0===W?void 0:W.numberOfApplicants," people"]}),(0,A.jsxs)("p",{children:[null===W||void 0===W?void 0:W.numberOfExaminees," times"]}),(0,A.jsxs)("p",{children:[null===(null===W||void 0===W?void 0:W.passRate)?0:null===W||void 0===W?void 0:W.passRate," %"]})]})]}),(0,A.jsxs)("div",{className:"text-center",children:[void 0!==(null===G||void 0===G||null===(n=G.user)||void 0===n?void 0:n.id)&&0!==(null===y||void 0===y?void 0:y.total)&&(0,A.jsxs)("p",{style:{color:"red",marginTop:"20px",marginBottom:"0px"},children:["Number of attempts to test: ",null===y||void 0===y?void 0:y.total]}),(0,A.jsx)(R.Z,{title:"You need to complete the previous test before taking this test again",visible:oe,okText:"Continue the previous test session",cancelText:"Start new test session",onConfirm:function(){var e;ue.push("/exams/".concat(null===(e=y.exam)||void 0===e?void 0:e._id,"/attempt?question=1"))},okButtonProps:{loading:ce},onCancel:de,children:(0,A.jsx)(P.Z,{variant:"primary",onClick:fe,className:"test-now",children:(null===y||void 0===y?void 0:y.total)>0?"Test again":"Test now"})})]})]})]}),""!==m&&m!==[]&&(0,A.jsx)(_.Z,{className:"layout-container-body exam",children:(0,A.jsx)(D,{data:c,location:h,examList:m})})]})}},6915:function(e,t,n){n.d(t,{H$:function(){return a},PM:function(){return l},bv:function(){return s},j3:function(){return c}});var i=n(1413),r=n(3433),o=function(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})},a=function(e,t,n){if(void 0!==e&&0!==t.length&&void 0!==n){var i=o(e,"topic"),r={labels:Object.keys(i).map((function(e){var n;return null===(n=t.find((function(t){return t._id===e})))||void 0===n?void 0:n.title})),series:Object.entries(i).map((function(e){return e}))};return r.series.map((function(e,t){var i=0;return e[1].map((function(e){var t=n.find((function(t){return e._id===t.question_id}));void 0!==t&&t.correct&&i++})),{title:r.labels[t],percentage:(parseInt(i)/e[1].length*100).toFixed(0),total:e[1].length,countCorrect:i,color:"#"+Math.floor(16777215*Math.random()).toString(16),last:t===r.series.length-1}}))}return[]},l=function(e,t){if(void 0!==e&&0!==t.length){var n=o(e,"topic");return{labels:Object.keys(n).map((function(e){var n;return null===(n=t.find((function(t){return t._id===e})))||void 0===n?void 0:n.title})),series:Object.entries(n).map((function(e){return parseInt(e[1].length)}))}}return{labels:["Empty"],series:[100]}},s=function(e,t){if(void 0!==e&&void 0!==t){var n=(0,r.Z)(t).map((function(t){var n=e.find((function(e){return t._id===e.question_id}));return""===(null===t||void 0===t?void 0:t.answers)?(0,i.Z)((0,i.Z)({},n),{},{result:"No Answer"}):t.correct?(0,i.Z)((0,i.Z)({},n),{},{result:"Correct"}):(0,i.Z)((0,i.Z)({},n),{},{result:"Incorrect"})})),a=o(n,"result");return{labels:Object.keys(a),series:Object.entries(a).map((function(e){return parseInt(e[1].length)}))}}return{labels:["Empty"],series:[100]}},c=function(e,t){if(void 0!==e){var n=(0,r.Z)(e).map((function(e){var t,n,i=null===(t=(0,r.Z)(null===e||void 0===e?void 0:e.newSubmissions))||void 0===t?void 0:t.filter((function(e){return!0===e.correct})).length,o=(0,r.Z)(null===e||void 0===e?void 0:e.newSubmissions).length;return{count:i,total:o,percentage:(i/o*100).toFixed(2),time:new Date(null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.createdAt).toLocaleString()}})),i=0,o=0;n.map((function(e){i+=e.count,o+=e.total}));var a=(i/o*100).toFixed(2);return void 0!==t&&n.push({count:0,total:0,percentage:t,time:(new Date).toLocaleString()}),{annotations:{yaxis:[{y:a,borderColor:"#00E396",offsetY:20,label:{borderColor:"#00E396",style:{color:"#fff",background:"#00E396"},text:"Average: ".concat(a)}}],points:[void 0!==t&&{x:(new Date).toLocaleString(),y:t,marker:{size:8,fillColor:"#fff",strokeColor:"red",radius:2,cssClass:"apexcharts-custom-class"},label:{borderColor:"#FF4560",offsetY:0,style:{color:"#fff",background:"#FF4560"},text:"Result Prediction: ".concat(t)}}]},xaxis:{categories:(0,r.Z)(n).map((function(e){return e.time})).slice(-5),title:{text:"Time to test"}},yaxis:{title:{text:"Percentage of Correct Answer"},min:0,max:100},series:[{name:"Chart Line of correct answer",data:(0,r.Z)(n).map((function(e){return e.percentage})).slice(-5)}]}}return[]}},187:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(1413),r=n(2791),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},a=n(4291),l=function(e,t){return r.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:o}))};l.displayName="ExclamationCircleFilled";var s=r.forwardRef(l)},1783:function(e,t,n){var i=n(7462),r=n(9439),o=n(2791),a=n(8368),l=n(7309),s=n(2571);function c(e){return!(!e||!e.then)}t.Z=function(e){var t=o.useRef(!1),n=o.useRef(),u=(0,a.Z)(!1),d=(0,r.Z)(u,2),v=d[0],f=d[1];o.useEffect((function(){var t;if(e.autoFocus){var i=n.current;t=setTimeout((function(){return i.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var m=e.type,p=e.children,x=e.prefixCls,h=e.buttonProps;return o.createElement(l.Z,(0,i.Z)({},(0,s.n)(m),{onClick:function(n){var i=e.actionFn,r=e.close;if(!t.current)if(t.current=!0,i){var o;if(e.emitEvent){if(o=i(n),e.quitOnNullishReturnValue&&!c(o))return t.current=!1,void r(n)}else if(i.length)o=i(r),t.current=!1;else if(!(o=i()))return void r();!function(n){var i=e.close;c(n)&&(f(!0),n.then((function(){f(!1,!0),i.apply(void 0,arguments),t.current=!1}),(function(e){console.error(e),f(!1,!0),t.current=!1})))}(o)}else r()},loading:v,prefixCls:x},h,{ref:n}),p)}},6038:function(e,t,n){var i=n(7462),r=n(9439),o=n(2791),a=n(1694),l=n.n(a),s=n(5179),c=n(187),u=n(1354),d=n(9220),v=n(7309),f=n(2571),m=n(3486),p=n(3578),x=n(9077),h=n(7924),b=n(1113),Z=n(9464),y=n(1783),g=void 0,j=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},w=o.forwardRef((function(e,t){var n=o.useContext(x.E_).getPrefixCls,a=(0,s.Z)(!1,{value:e.visible,defaultValue:e.defaultVisible}),c=(0,r.Z)(a,2),w=c[0],C=c[1],N=function(t,n){var i;C(t,!0),null===(i=e.onVisibleChange)||void 0===i||i.call(e,t,n)},k=function(e){N(!1,e)},E=function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(g,t)},S=function(t){var n;N(!1,t),null===(n=e.onCancel)||void 0===n||n.call(g,t)},P=e.prefixCls,_=e.placement,O=e.children,L=e.overlayClassName,T=j(e,["prefixCls","placement","children","overlayClassName"]),R=n("popover",P),F=n("popconfirm",P),V=l()(F,L),z=o.createElement(m.Z,{componentName:"Popconfirm",defaultLocale:p.Z.Popconfirm},(function(t){return function(t,r){var a=e.okButtonProps,l=e.cancelButtonProps,s=e.title,c=e.cancelText,u=e.okText,d=e.okType,m=e.icon,p=e.showCancel,x=void 0===p||p;return o.createElement("div",{className:"".concat(t,"-inner-content")},o.createElement("div",{className:"".concat(t,"-message")},m,o.createElement("div",{className:"".concat(t,"-message-title")},(0,h.Z)(s))),o.createElement("div",{className:"".concat(t,"-buttons")},x&&o.createElement(v.Z,(0,i.Z)({onClick:S,size:"small"},l),c||r.cancelText),o.createElement(y.Z,{buttonProps:(0,i.Z)((0,i.Z)({size:"small"},(0,f.n)(d)),a),actionFn:E,close:k,prefixCls:n("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},u||r.okText)))}(R,t)})),A=n();return o.createElement(d.Z,(0,i.Z)({},T,{prefixCls:R,placement:_,onVisibleChange:function(t){e.disabled||N(t)},visible:w,overlay:z,overlayClassName:V,ref:t,transitionName:(0,Z.mL)(A,"zoom-big",e.transitionName)}),(0,b.Tm)(O,{onKeyDown:function(e){var t,n;o.isValidElement(O)&&(null===(n=null===O||void 0===O?void 0:(t=O.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===u.Z.ESC&&w&&N(!1,e)}(e)}}))}));w.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:o.createElement(c.Z,null),disabled:!1},t.Z=w}}]);
//# sourceMappingURL=364.498d52af.chunk.js.map