{"version":3,"file":"static/js/607.d6b08411.chunk.js","mappings":"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","sources":["app/core/apis/user.js","app/pages/BasicPage/Login.js","app/pages/BasicPage/ThirdLogin.js"],"sourcesContent":["import { _get, _post, _delete, _put } from \"./apis\";\n\n// APIS\nexport const getAllUsers = (data) => {\n  return _get(\"/api/v1/user\");\n};\n\nexport const login = (data) => {\n  return _post(\"/api/v1/user/login\", data);\n};\n\nexport const loginByGoogle = (data) => {\n  return _post(\"/api/v1/user/google_login\", data);\n};\n\nexport const loginByFacebook = (data) => {\n  return _post(\"/api/v1/user/facebook_login\", data);\n};\n\nexport const register = (data) => {\n  return _post(\"/api/v1/user/register\", data);\n};\n\nexport const logout = (data) => {\n  return _post(\"/api/v1/user/logout\", data);\n};\n\nexport const forgotPass = (data) => {\n  return _post(\"/api/v1/user/forgot-password\", data);\n};\n\nexport const resetPass = (data) => {\n  return _post(\"/api/v1/user/reset-password\", data);\n};\n\nexport const deleteUser = (data) => {\n  return _delete(\"/api/v1/user\");\n};\n\nexport const getTopicStatistic = (type) => {\n  return _get(\"/api/v1/exam/topic/statistic?type=\"+type);\n};\n\n","import {\n  faAngleLeft,\n  faEnvelope,\n  faUnlockAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  Button,\n  Card,\n  Col,\n  Container,\n  Form,\n  InputGroup,\n  Row,\n} from \"@themesberg/react-bootstrap\";\nimport signInBg from \"app/assets/img/illustrations/signin.svg\";\nimport configuration from \"app/configuration\";\nimport { login } from \"app/core/apis/user\";\nimport { Routes } from \"app/routes\";\nimport { updateUser } from \"app/store/userReducer\";\nimport { ErrorMessage, Formik } from \"formik\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport ThirdLogin from \"./ThirdLogin\";\n\nconst schema = Yup.object().shape({\n  username: Yup.string()\n    .required(\"Email is required\")\n    .email(\"Format must be an e-mail\")\n    .trim(),\n  password: Yup.string().trim().required(\"Password is required\"),\n});\n\nconst LoginPage = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n  const [error, setError] = useState(\"\");\n\n  const SignIn = async (values, resetForm) => {\n    const result = await login({\n      email: values.username,\n      password: values.password,\n    });\n\n    if (result.status === 200) {\n      console.log(result);\n      if (result.data?.user?.user?.status === \"inactive\") {\n        setError(\"You are blocked by admin. Contact to unblock\");\n        resetForm();\n      } else {\n        //set token\n        configuration.setApiRequestToken(result.data.tokens);\n\n        dispatch(updateUser(result.data));\n        if (location?.state !== undefined) {\n          history.push(`${location.state.from}${location.state.search}`);\n        } else {\n          history.push(\"/\");\n        }\n      }\n    } else {\n      setError(result?.data?.message);\n      resetForm();\n    }\n  };\n\n  return (\n    <main>\n      <section className=\"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\">\n        <Container>\n          <p className=\"text-center\">\n            <Card.Link\n              as={Link}\n              to={Routes.HomePage.path}\n              className=\"text-gray-700\"\n            >\n              <FontAwesomeIcon icon={faAngleLeft} className=\"me-2\" /> Back to\n              homepage\n            </Card.Link>\n          </p>\n          <Row\n            className=\"justify-content-center form-bg-image\"\n            style={{ backgroundImage: `url(${signInBg})` }}\n          >\n            <Col\n              xs={12}\n              className=\"d-flex align-items-center justify-content-center\"\n            >\n              <div className=\"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\">\n                <div className=\"text-center text-md-center mb-4 mt-md-0\">\n                  <h3 className=\"mb-0\">Sign in to our platform</h3>\n                </div>\n                <Formik\n                  initialValues={{ username: \"\", password: \"\" }}\n                  validationSchema={schema}\n                  onSubmit={(values, { setSubmitting, resetForm }) =>\n                    SignIn(values, resetForm)\n                  }\n                >\n                  {(props) => {\n                    const {\n                      values,\n                      touched,\n                      errors,\n                      isSubmitting,\n                      handleChange,\n                      handleBlur,\n                      handleSubmit,\n                    } = props;\n\n                    return (\n                      <Form\n                        className=\"mt-4 basic-form\"\n                        noValidate\n                        onSubmit={handleSubmit}\n                      >\n                        <div className=\"d-flex justify-content-center\">\n                          <span style={{ color: \"red\" }}>{error}</span>\n                        </div>\n\n                        <Form.Group id=\"username\" className=\"mb-4\">\n                          <Form.Label>Your Username</Form.Label>\n                          <InputGroup\n                            className={\n                              errors.username && touched.username && \"error\"\n                            }\n                          >\n                            <InputGroup.Text>\n                              <FontAwesomeIcon icon={faEnvelope} />\n                            </InputGroup.Text>\n                            <Form.Control\n                              type=\"text\"\n                              placeholder=\"Username\"\n                              value={values.username}\n                              onChange={handleChange}\n                              onBlur={handleBlur}\n                              className={\n                                errors.username && touched.username && \"error\"\n                              }\n                              name=\"username\"\n                            />\n                          </InputGroup>\n                          <ErrorMessage\n                            name=\"username\"\n                            component=\"div\"\n                            className=\"invalid-feedback\"\n                          />\n                        </Form.Group>\n                        <Form.Group>\n                          <Form.Group id=\"password\" className=\"mb-4\">\n                            <Form.Label>Your Password</Form.Label>\n                            <InputGroup\n                              className={\n                                errors.password && touched.password && \"error\"\n                              }\n                            >\n                              <InputGroup.Text>\n                                <FontAwesomeIcon icon={faUnlockAlt} />\n                              </InputGroup.Text>\n                              <Form.Control\n                                name=\"password\"\n                                type=\"password\"\n                                placeholder=\"Password\"\n                                value={values.password}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                                className={\n                                  errors.password && touched.password && \"error\"\n                                }\n                              />\n                            </InputGroup>\n                            <ErrorMessage\n                              name=\"password\"\n                              component=\"div\"\n                              className=\"invalid-feedback\"\n                            />\n                          </Form.Group>\n                          <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                            <Card.Link\n                              as={Link}\n                              to={Routes.ForgotPassword.path}\n                              className=\"small text-end\"\n                            >\n                              Forgot password?\n                            </Card.Link>\n                          </div>\n                        </Form.Group>\n                        <Button\n                          variant=\"primary\"\n                          type=\"submit\"\n                          className=\"w-100\"\n                          disabled={isSubmitting}\n                        >\n                          Sign in\n                        </Button>\n                      </Form>\n                    );\n                  }}\n                </Formik>\n                <ThirdLogin />\n                <div className=\"d-flex justify-content-center align-items-center mt-4\">\n                  <span className=\"fw-normal\">\n                    Not registered?\n                    <Card.Link\n                      as={Link}\n                      to={Routes.Register.path}\n                      className=\"fw-bold\"\n                    >\n                      {` Create account `}\n                    </Card.Link>\n                  </span>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </section>\n    </main>\n  );\n};\n\nexport default LoginPage;\n","import FacebookLogin from \"react-facebook-login\";\nimport GoogleLogin from \"react-google-login\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGoogle, faFacebook } from \"@fortawesome/free-brands-svg-icons\";\nimport { Button } from \"@themesberg/react-bootstrap\";\nimport { loginByFacebook, loginByGoogle } from \"app/core/apis/user\";\nimport configuration from \"app/configuration\";\nimport { useDispatch } from \"react-redux\";\nimport { updateUser } from \"app/store/userReducer\";\nimport {\n  useLocation,\n  useHistory,\n} from \"react-router-dom/cjs/react-router-dom.min\";\nimport './ThirdLogin.css'\n\nconst clientId =\n  \"588336887447-h306o0g8rsfr9o2421d749sgk6hu916k.apps.googleusercontent.com\";\nconst appId = \"840430540176218\";\n\nconst ThirdLogin = () => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n\n  const responseFacebook = async (response) => {\n    try {\n      const result = await loginByFacebook({\n        ...response,\n        picture: response?.picture?.data?.url,\n      });\n      if (result.status === 200) {\n        //set token\n        configuration.setApiRequestToken(result.data.tokens);\n        dispatch(updateUser(result.data));\n        if (location?.state !== undefined) {\n          history.push(`${location.state.from}${location.state.search}`);\n        } else {\n          history.push(\"/\");\n        }\n      }\n    } catch (error) {}\n  };\n\n  const onSuccess = async (response) => {\n    try {\n      const result = await loginByGoogle(response);\n      if (result.status === 200) {\n        //set token\n        configuration.setApiRequestToken(result.data.tokens);\n        dispatch(updateUser(result.data));\n        if (location?.state !== undefined) {\n          history.push(`${location.state.from}${location.state.search}`);\n        } else {\n          history.push(\"/\");\n        }\n      }\n    } catch (error) {}\n  };\n\n  const onFailure = (response) => {};\n\n  return (\n    <>\n      <div className=\"mt-3 mb-4 text-center\">\n        <span className=\"fw-normal\">or login with</span>\n      </div>\n      <div className=\"my-4\">\n        <FacebookLogin\n          id=\"buttonFB\"\n          appId={appId}\n          fields=\"name,email,picture\"\n          callback={responseFacebook}\n          icon={<FontAwesomeIcon icon={faFacebook} />}\n          textButton={\"Continue with Facebook\"}\n          className=\"btn-login-fb\"\n        />\n        <GoogleLogin\n          clientId={clientId}\n          render={(renderProps) => (\n            <Button\n              className=\"socialBtn\"\n              block\n              onClick={renderProps.onClick}\n            >\n              {<FontAwesomeIcon icon={faGoogle} />}\n              Continue with Google\n            </Button>\n          )}\n          onSuccess={onSuccess}\n          onFailure={onFailure}\n          cookiePolicy=\"single_host_origin\"\n        />\n      </div>\n    </>\n  );\n};\n\nexport default ThirdLogin;\n"],"names":["login","data","_post","loginByGoogle","loginByFacebook","register","forgotPass","getTopicStatistic","type","_get","schema","Yup","shape","username","required","email","trim","password","dispatch","useDispatch","history","useHistory","location","useLocation","useState","error","setError","SignIn","values","resetForm","result","status","console","log","user","configuration","tokens","updateUser","undefined","state","push","from","search","message","className","as","Link","to","Routes","icon","faAngleLeft","style","backgroundImage","signInBg","xs","initialValues","validationSchema","onSubmit","setSubmitting","props","touched","errors","isSubmitting","handleChange","handleBlur","handleSubmit","noValidate","color","id","faEnvelope","placeholder","value","onChange","onBlur","name","component","faUnlockAlt","variant","disabled","responseFacebook","response","picture","url","onSuccess","appId","fields","callback","faFacebook","textButton","clientId","render","renderProps","Button","block","onClick","faGoogle","onFailure","cookiePolicy"],"sourceRoot":""}