"use strict";(self.webpackChunkfe_client=self.webpackChunkfe_client||[]).push([[996],{3460:function(e,n,i){i.d(n,{Nl:function(){return o},Nn:function(){return l},XQ:function(){return s}});var t=i(9699),s=function(){return(0,t.mR)("/api/v1/topic/list")},o=function(){return(0,t.mR)("/api/v1/topic/full-list")},l=function(){return(0,t.mR)("/api/v1/topic/full-with-deleted")}},7996:function(e,n,i){i.r(n),i.d(n,{default:function(){return P}});var t=i(1413),s=i(5861),o=i(9439),l=i(7757),r=i.n(l),c=i(8875),a=i(7546),d=i(506),u=i(6922),v=i(729),x=i(505),m=i(7661),h=i(7528),f=i(9220),p=i(785),j=i(4814),b=i(4411),Z=i(3794),g=i(3460),y=i(4710),N=i(6915),w=i(2791),q=i(6030),C=i(9271),_=i(184),k=m.Z.TabPane,E=function(e){var n,i,t,s=e.data,l=e.currentOrder,r=(0,w.useState)(0),c=(0,o.Z)(r,2),a=c[0],d=c[1];return(0,w.useEffect)((function(){if(void 0===s)d(0);else{var e,n=0;null===s||void 0===s||null===(e=s.submissions)||void 0===e||e.map((function(e){e.correct&&n++})),d(n)}}),[s]),(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"sticky-sidebar",children:(0,_.jsxs)("div",{className:"post-index hidden-sm-down",children:[(0,_.jsxs)("div",{className:"section-title-line",children:[(0,_.jsx)("h5",{className:"text-uppercase",children:"Question List"}),(0,_.jsx)("h2",{children:"".concat(a," / ").concat(null!==(n=null===s||void 0===s||null===(i=s.questions)||void 0===i?void 0:i.length)&&void 0!==n?n:0)})]}),(0,_.jsxs)("div",{className:"status-answer d-flex",children:[(0,_.jsx)("span",{className:"correct",children:"Corrected"}),(0,_.jsx)("span",{className:"incorrect",children:"Incorrected"})]}),(0,_.jsx)("hr",{}),(0,_.jsx)("div",{className:"question-container d-flex",children:null===s||void 0===s||null===(t=s.questions)||void 0===t?void 0:t.map((function(e,n){var i;return(0,_.jsx)(O,{item:e,index:n,currentOrder:l,submissionsItem:null===s||void 0===s||null===(i=s.submissions)||void 0===i?void 0:i.find((function(n){return n.question_id===e._id}))},e._id)}))})]})})})},O=function(e){e.item;var n=e.index,i=e.currentOrder,t=e.submissionsItem,s=(0,C.useHistory)(),o=(0,C.useLocation)(),l="list-item";return null!==t&&void 0!==t&&t.correct?l+=" correct":l+=" incorrect",n+1===i&&(l+=" selected"),(0,_.jsx)("span",{onClick:function(){return s.push("".concat(o.pathname,"?question=").concat(n+1))},className:l,children:(0,_.jsx)("span",{className:"text text-test",children:n+1})})},I=function(e){var n,i,t,s=e.item,o=(e.saveSelectedChoice,e.data),l=(e.setData,e.currentOrder,(0,C.useHistory)()),r=(0,C.useLocation)(),c=(0,q.v9)((function(e){var n;return null===(n=e.persist.user)||void 0===n?void 0:n.user}));return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"count-question",children:[(0,_.jsxs)("h1",{children:["Question ",s.index]}),(0,_.jsx)("div",{className:"question-content",dangerouslySetInnerHTML:{__html:null===s||void 0===s?void 0:s.question}}),(0,_.jsx)("hr",{}),(0,_.jsx)("ul",{className:"choose-answer answer-mode",children:null===s||void 0===s||null===(n=s.choices)||void 0===n?void 0:n.map((function(e,n){var i,t,l,r,a,d;return(0,_.jsx)("li",{className:(null===o||void 0===o||null===(i=o.questions)||void 0===i||null===(t=i.find((function(e){return e._id===s._id})))||void 0===t?void 0:t.answer)===e._id&&"correct-choice",children:null!==c&&void 0!==c&&null!==(l=c.pricing)&&void 0!==l&&null!==(r=l.abilities)&&void 0!==r&&r.includes("62b290ea2c130943d42c8995")?(0,_.jsx)(v.Z,{defaultChecked:(null===o||void 0===o||null===(a=o.submissions)||void 0===a||null===(d=a.find((function(e){return e.question_id===s._id})))||void 0===d?void 0:d.answers)===e._id,label:e.label,name:"group".concat(s._id),type:"radio",id:"inline-radio-".concat(e._id)}):(0,_.jsx)(v.Z,{label:e.label,name:"group".concat(s._id),type:"radio",id:"inline-radio-".concat(e._id)})},e._id)}))}),(0,_.jsx)("hr",{}),""!==(null===s||void 0===s?void 0:s.explanation)&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h5",{children:"Explanation"}),(0,_.jsx)(p.Z,{message:(0,_.jsx)("div",{className:"question-content-container",style:{position:"relative"},children:null!==c&&void 0!==c&&null!==(i=c.pricing)&&void 0!==i&&null!==(t=i.abilities)&&void 0!==t&&t.includes("62b290ea2c130943d42c8996")?(0,_.jsx)("div",{style:{maxWidth:"810px"},className:"question-content",dangerouslySetInnerHTML:{__html:null===s||void 0===s?void 0:s.explanation}}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{style:{maxWidth:"810px"},className:"question-content normal",dangerouslySetInnerHTML:{__html:null===s||void 0===s?void 0:s.explanation}}),(0,_.jsx)(x.Z,{children:"Update your account to our service"})]})}),type:"info"}),(0,_.jsx)("hr",{})]}),(0,_.jsxs)("div",{className:"question-action",children:[(0,_.jsx)(x.Z,{onClick:function(){l.push("".concat(r.pathname,"?question=").concat(s.index-1))},disabled:s.first,className:"btn-back",children:"Go back to previous"}),(0,_.jsx)(x.Z,{disabled:s.last,onClick:function(){l.push("".concat(r.pathname,"?question=").concat(s.index+1))},children:"Next question"}),"exam"===(null===o||void 0===o?void 0:o.type)&&(0,_.jsx)(x.Z,{onClick:function(){return window.location="/exams/".concat(null===o||void 0===o?void 0:o._id)},className:"btn-submit",children:"Try Test Again"})]})]})})},P=function(){(0,q.v9)((function(e){var n;return null===(n=e.persist.user)||void 0===n?void 0:n.user}));var e,n=(0,w.useState)(""),i=(0,o.Z)(n,2),l=i[0],v=i[1],x=(0,C.useLocation)(),p=(0,w.useState)([]),O=(0,o.Z)(p,2),P=O[0],S=O[1],A=(0,q.I0)(),R=(0,q.v9)((function(e){return e.exam.exam})),T=null===new URLSearchParams(x.search).get("question")?1:parseInt(new URLSearchParams(x.search).get("question")),L=(0,C.useParams)().hashIdExamSession;(0,w.useEffect)((function(){(0,s.Z)(r().mark((function e(){var n,i,s,o,l,c,a,d,u,v,x;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Z.Mu)({userExam:L});case 3:return v=e.sent,e.next=6,(0,g.Nn)();case 6:x=e.sent,F((0,t.Z)((0,t.Z)({},null===v||void 0===v||null===(n=v.data)||void 0===n?void 0:n.exam.result.exam),{},{questions:null===v||void 0===v||null===(i=v.data)||void 0===i||null===(s=i.exam.result)||void 0===s||null===(o=s.exam)||void 0===o||null===(l=o.questions)||void 0===l||null===(c=l.filter((function(e){var n,i;return null===v||void 0===v||null===(n=v.data)||void 0===n||null===(i=n.exam.newSubmissions)||void 0===i?void 0:i.some((function(n){return n.question_id===e._id}))})))||void 0===c?void 0:c.map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{question:void 0!==(null===e||void 0===e?void 0:e.question)?decodeURIComponent(escape(window.atob(null===e||void 0===e?void 0:e.question))):"",explanation:void 0!==(null===e||void 0===e?void 0:e.explanation)?decodeURIComponent(escape(window.atob(null===e||void 0===e?void 0:e.explanation))):""})})),submissions:null===v||void 0===v||null===(a=v.data)||void 0===a?void 0:a.exam.newSubmissions,result:null===v||void 0===v||null===(d=v.data)||void 0===d?void 0:d.exam.result})),S(null===x||void 0===x||null===(u=x.data)||void 0===u?void 0:u.topic),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]);var F=function(e){A((0,y.w0)(e))};return(0,w.useEffect)((function(){""!==R&&v(null===T?(0,t.Z)((0,t.Z)({},R.questions[0]),{},{first:!0,index:0,last:!1}):(0,t.Z)((0,t.Z)({},R.questions[T-1]),{},{first:!1,index:T,last:T===R.questions.length}))}),[R]),(0,w.useEffect)((function(){""!==R&&v(null===T?(0,t.Z)((0,t.Z)({},R.questions[0]),{},{first:!0,index:0,last:!1}):(0,t.Z)((0,t.Z)({},R.questions[T-1]),{},{first:1===T,index:T,last:T===R.questions.length}))}),[x.search]),(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(c.Z,{className:"d-flex container-card",children:(0,_.jsxs)(m.Z,{defaultActiveKey:"1",destroyInactiveTabPane:!0,className:"tabs-answer",children:[(0,_.jsxs)(k,{tab:"Detail Answer Quiz",children:[(0,_.jsxs)(a.Z,{className:"d-flex mt-3",children:[(0,_.jsx)(d.Z,{className:"layout-container-body answer quiz",children:(0,_.jsx)(E,{data:R,currentOrder:T})}),(0,_.jsx)(d.Z,{className:"layout-container-top quiz",children:(0,_.jsx)(I,{item:l,currentOrder:T,data:R,setData:F})})]}),"l"]},"1"),(0,_.jsx)(k,{tab:"Answer result statistics",children:(0,_.jsxs)(a.Z,{children:[(0,_.jsxs)("div",{style:{marginBottom:"20px",marginTop:"20px"},children:[(0,_.jsx)("h3",{children:"Topic division"}),(0,_.jsx)(j.Z,(0,t.Z)({width:500},(0,N.PM)(null===R||void 0===R?void 0:R.questions,P)))]}),(0,_.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,_.jsx)("h3",{children:"Answer rate"}),(0,_.jsx)(j.Z,(0,t.Z)({width:400},(0,N.bv)(null===R||void 0===R?void 0:R.questions,null===R||void 0===R?void 0:R.submissions)))]}),void 0!==(null===R||void 0===R?void 0:R.questions)&&0!==P.length&&void 0!==(null===R||void 0===R?void 0:R.submissions)&&(0,_.jsx)(b.S5,{data:(0,N.H$)(null===R||void 0===R?void 0:R.questions,P,null===R||void 0===R?void 0:R.submissions)}),(0,_.jsxs)(u.Z,{striped:!0,bordered:!0,hover:!0,className:"my-4",children:[(0,_.jsx)("thead",{children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{children:"#"}),(0,_.jsx)("th",{children:"Result"}),(0,_.jsx)("th",{children:"Question"}),(0,_.jsx)("th",{children:"Topic"}),(0,_.jsx)("th",{style:{textAlign:"center"},children:"Relative Document"})]})}),(0,_.jsx)("tbody",{className:"result-report",children:null===R||void 0===R||null===(e=R.submissions)||void 0===e?void 0:e.map((function(e,n){var i,t=null===R||void 0===R?void 0:R.questions.find((function(n){return e.question_id===n._id})),s="";return s=""===(null===e||void 0===e?void 0:e.answers)?"No Answer":e.correct?"Correct":"Incorrect",(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{children:n+1}),(0,_.jsxs)("td",{className:"td-correct-wrong",children:["No Answer"===s&&(0,_.jsx)(h.Z,{color:"#108ee9",children:s}),"Correct"===s&&(0,_.jsx)(h.Z,{color:"#87d068",children:s}),"Incorrect"===s&&(0,_.jsx)(h.Z,{color:"#f50",children:s})]}),(0,_.jsx)("td",{className:"td-question",children:(0,_.jsx)(f.Z,{title:t.question.replaceAll(/<\/?[^>]+(>|$)/g,"").replaceAll("&nbsp;"," "),children:t.question.replaceAll(/<\/?[^>]+(>|$)/g,"").replaceAll("&nbsp;"," ")})}),(0,_.jsx)("td",{children:null===P||void 0===P||null===(i=P.find((function(e){return e._id===t.topic})))||void 0===i?void 0:i.title}),(0,_.jsx)("td",{style:{textAlign:"center"},children:(0,_.jsx)("a",{href:"/lessons/".concat(t.lesson),target:"_blank",rel:"noreferrer",children:"Go to document"})})]},e._id)}))})]})]})},"2")]})})})}},6922:function(e,n,i){var t=i(7462),s=i(3366),o=i(1694),l=i.n(o),r=i(2791),c=i(9496),a=r.forwardRef((function(e,n){var i=e.bsPrefix,o=e.className,a=e.striped,d=e.bordered,u=e.borderless,v=e.hover,x=e.size,m=e.variant,h=e.responsive,f=(0,s.Z)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),p=(0,c.vE)(i,"table"),j=l()(o,p,m&&p+"-"+m,x&&p+"-"+x,a&&p+"-striped",d&&p+"-bordered",u&&p+"-borderless",v&&p+"-hover"),b=r.createElement("table",(0,t.Z)({},f,{className:j,ref:n}));if(h){var Z=p+"-responsive";return"string"===typeof h&&(Z=Z+"-"+h),r.createElement("div",{className:Z},b)}return b}));n.Z=a},7528:function(e,n,i){i.d(n,{Z:function(){return g}});var t=i(4942),s=i(7462),o=i(9439),l=i(2791),r=i(1694),c=i.n(r),a=i(1818),d=i(732),u=i(9077),v=function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(i[t[s]]=e[t[s]])}return i},x=function(e){var n,i=e.prefixCls,o=e.className,r=e.checked,a=e.onChange,d=e.onClick,x=v(e,["prefixCls","className","checked","onChange","onClick"]),m=(0,l.useContext(u.E_).getPrefixCls)("tag",i),h=c()(m,(n={},(0,t.Z)(n,"".concat(m,"-checkable"),!0),(0,t.Z)(n,"".concat(m,"-checkable-checked"),r),n),o);return l.createElement("span",(0,s.Z)({},x,{className:h,onClick:function(e){null===a||void 0===a||a(!r),null===d||void 0===d||d(e)}}))},m=i(4466),h=i(2833),f=function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(i[t[s]]=e[t[s]])}return i},p=new RegExp("^(".concat(m.Y.join("|"),")(-inverse)?$")),j=new RegExp("^(".concat(m.E.join("|"),")$")),b=function(e,n){var i,r=e.prefixCls,v=e.className,x=e.style,m=e.children,b=e.icon,Z=e.color,g=e.onClose,y=e.closeIcon,N=e.closable,w=void 0!==N&&N,q=f(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),C=l.useContext(u.E_),_=C.getPrefixCls,k=C.direction,E=l.useState(!0),O=(0,o.Z)(E,2),I=O[0],P=O[1];l.useEffect((function(){"visible"in q&&P(q.visible)}),[q.visible]);var S=function(){return!!Z&&(p.test(Z)||j.test(Z))},A=(0,s.Z)({backgroundColor:Z&&!S()?Z:void 0},x),R=S(),T=_("tag",r),L=c()(T,(i={},(0,t.Z)(i,"".concat(T,"-").concat(Z),R),(0,t.Z)(i,"".concat(T,"-has-color"),Z&&!R),(0,t.Z)(i,"".concat(T,"-hidden"),!I),(0,t.Z)(i,"".concat(T,"-rtl"),"rtl"===k),i),v),F=function(e){e.stopPropagation(),null===g||void 0===g||g(e),e.defaultPrevented||"visible"in q||P(!1)},H="onClick"in q||m&&"a"===m.type,z=(0,a.Z)(q,["visible"]),M=b||null,Q=M?l.createElement(l.Fragment,null,M,l.createElement("span",null,m)):m,U=l.createElement("span",(0,s.Z)({},z,{ref:n,className:L,style:A}),Q,w?y?l.createElement("span",{className:"".concat(T,"-close-icon"),onClick:F},y):l.createElement(d.Z,{className:"".concat(T,"-close-icon"),onClick:F}):null);return H?l.createElement(h.Z,null,U):U},Z=l.forwardRef(b);Z.displayName="Tag",Z.CheckableTag=x;var g=Z}}]);
//# sourceMappingURL=996.ed1163fc.chunk.js.map