"use strict";(self.webpackChunkfe_client=self.webpackChunkfe_client||[]).push([[607],{3275:function(e,n,s){s.d(n,{HN:function(){return i},PH:function(){return a},jG:function(){return l},x4:function(){return r},yl:function(){return c},z2:function(){return o}});var t=s(9699),r=function(e){return(0,t.d8)("/api/v1/user/login",e)},a=function(e){return(0,t.d8)("/api/v1/user/google_login",e)},i=function(e){return(0,t.d8)("/api/v1/user/facebook_login",e)},o=function(e){return(0,t.d8)("/api/v1/user/register",e)},c=function(e){return(0,t.d8)("/api/v1/user/forgot-password",e)},l=function(e){return(0,t.mR)("/api/v1/exam/topic/statistic?type="+e)}},4607:function(e,n,s){s.r(n);var t=s(5861),r=s(9439),a=s(7757),i=s.n(a),o=s(3174),c=s(4483),l=s(8875),u=s(2),d=s(7546),m=s(506),p=s(7066),h=s(6787),x=s(505),f=s(792),v=s(1941),j=s(3275),g=s(1576),b=s(3534),w=s(4203),Z=s(2791),N=s(6030),k=s(9271),y=s(1523),C=s(7942),q=s(6247),B=s(184),G=C.Ry().shape({username:C.Z_().required("Email is required").email("Format must be an e-mail").trim(),password:C.Z_().trim().required("Password is required")});n.default=function(){var e=(0,N.I0)(),n=(0,k.useHistory)(),s=(0,k.useLocation)(),a=(0,Z.useState)(""),C=(0,r.Z)(a,2),S=C[0],F=C[1],P=function(){var r=(0,t.Z)(i().mark((function t(r,a){var o,c,l,u,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,j.x4)({email:r.username,password:r.password});case 2:200===(o=t.sent).status?(console.log(o),"inactive"===(null===(c=o.data)||void 0===c||null===(l=c.user)||void 0===l||null===(u=l.user)||void 0===u?void 0:u.status)?(F("You are blocked by admin. Contact to unblock"),a()):(v.Z.setApiRequestToken(o.data.tokens),e((0,b.Nq)(o.data)),void 0!==(null===s||void 0===s?void 0:s.state)?n.push("".concat(s.state.from).concat(s.state.search)):n.push("/"))):(F(null===o||void 0===o||null===(d=o.data)||void 0===d?void 0:d.message),a());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return r.apply(this,arguments)}}();return(0,B.jsx)("main",{children:(0,B.jsx)("section",{className:"d-flex align-items-center my-5 mt-lg-6 mb-lg-5",children:(0,B.jsxs)(l.Z,{children:[(0,B.jsx)("p",{className:"text-center",children:(0,B.jsxs)(u.Z.Link,{as:y.rU,to:g.Z.HomePage.path,className:"text-gray-700",children:[(0,B.jsx)(c.G,{icon:o.EyR,className:"me-2"})," Back to homepage"]})}),(0,B.jsx)(d.Z,{className:"justify-content-center form-bg-image",style:{backgroundImage:"url(".concat(f.Z,")")},children:(0,B.jsx)(m.Z,{xs:12,className:"d-flex align-items-center justify-content-center",children:(0,B.jsxs)("div",{className:"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500",children:[(0,B.jsx)("div",{className:"text-center text-md-center mb-4 mt-md-0",children:(0,B.jsx)("h3",{className:"mb-0",children:"Sign in to our platform"})}),(0,B.jsx)(w.J9,{initialValues:{username:"",password:""},validationSchema:G,onSubmit:function(e,n){n.setSubmitting;var s=n.resetForm;return P(e,s)},children:function(e){var n=e.values,s=e.touched,t=e.errors,r=e.isSubmitting,a=e.handleChange,i=e.handleBlur,l=e.handleSubmit;return(0,B.jsxs)(p.Z,{className:"mt-4 basic-form",noValidate:!0,onSubmit:l,children:[(0,B.jsx)("div",{className:"d-flex justify-content-center",children:(0,B.jsx)("span",{style:{color:"red"},children:S})}),(0,B.jsxs)(p.Z.Group,{id:"username",className:"mb-4",children:[(0,B.jsx)(p.Z.Label,{children:"Your Username"}),(0,B.jsxs)(h.Z,{className:t.username&&s.username&&"error",children:[(0,B.jsx)(h.Z.Text,{children:(0,B.jsx)(c.G,{icon:o.FU$})}),(0,B.jsx)(p.Z.Control,{type:"text",placeholder:"Username",value:n.username,onChange:a,onBlur:i,className:t.username&&s.username&&"error",name:"username"})]}),(0,B.jsx)(w.Bc,{name:"username",component:"div",className:"invalid-feedback"})]}),(0,B.jsxs)(p.Z.Group,{children:[(0,B.jsxs)(p.Z.Group,{id:"password",className:"mb-4",children:[(0,B.jsx)(p.Z.Label,{children:"Your Password"}),(0,B.jsxs)(h.Z,{className:t.password&&s.password&&"error",children:[(0,B.jsx)(h.Z.Text,{children:(0,B.jsx)(c.G,{icon:o.B$L})}),(0,B.jsx)(p.Z.Control,{name:"password",type:"password",placeholder:"Password",value:n.password,onChange:a,onBlur:i,className:t.password&&s.password&&"error"})]}),(0,B.jsx)(w.Bc,{name:"password",component:"div",className:"invalid-feedback"})]}),(0,B.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,B.jsx)(u.Z.Link,{as:y.rU,to:g.Z.ForgotPassword.path,className:"small text-end",children:"Forgot password?"})})]}),(0,B.jsx)(x.Z,{variant:"primary",type:"submit",className:"w-100",disabled:r,children:"Sign in"})]})}}),(0,B.jsx)(q.Z,{}),(0,B.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-4",children:(0,B.jsxs)("span",{className:"fw-normal",children:["Not registered?",(0,B.jsx)(u.Z.Link,{as:y.rU,to:g.Z.Register.path,className:"fw-bold",children:" Create account "})]})})]})})})]})})})}},6247:function(e,n,s){s.d(n,{Z:function(){return b}});var t=s(1413),r=s(5861),a=s(7757),i=s.n(a),o=s(7210),c=s.n(o),l=s(929),u=s.n(l),d=s(4483),m=s(7118),p=s(505),h=s(3275),x=s(1941),f=s(6030),v=s(3534),j=s(542),g=s(184),b=function(){var e=(0,f.I0)(),n=(0,j.TH)(),s=(0,j.k6)(),a=function(){var a=(0,r.Z)(i().mark((function r(a){var o,c,l;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,h.HN)((0,t.Z)((0,t.Z)({},a),{},{picture:null===a||void 0===a||null===(o=a.picture)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.url}));case 3:200===(l=r.sent).status&&(x.Z.setApiRequestToken(l.data.tokens),e((0,v.Nq)(l.data)),void 0!==(null===n||void 0===n?void 0:n.state)?s.push("".concat(n.state.from).concat(n.state.search)):s.push("/")),r.next=9;break;case 7:r.prev=7,r.t0=r.catch(0);case 9:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),o=function(){var t=(0,r.Z)(i().mark((function t(r){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,h.PH)(r);case 3:200===(a=t.sent).status&&(x.Z.setApiRequestToken(a.data.tokens),e((0,v.Nq)(a.data)),void 0!==(null===n||void 0===n?void 0:n.state)?s.push("".concat(n.state.from).concat(n.state.search)):s.push("/")),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"mt-3 mb-4 text-center",children:(0,g.jsx)("span",{className:"fw-normal",children:"or login with"})}),(0,g.jsxs)("div",{className:"my-4",children:[(0,g.jsx)(c(),{id:"buttonFB",appId:"840430540176218",fields:"name,email,picture",callback:a,icon:(0,g.jsx)(d.G,{icon:m.neY}),textButton:"Continue with Facebook",className:"btn-login-fb"}),(0,g.jsx)(u(),{clientId:"588336887447-h306o0g8rsfr9o2421d749sgk6hu916k.apps.googleusercontent.com",render:function(e){return(0,g.jsxs)(p.Z,{className:"socialBtn",block:!0,onClick:e.onClick,children:[(0,g.jsx)(d.G,{icon:m.xYR}),"Continue with Google"]})},onSuccess:o,onFailure:function(e){},cookiePolicy:"single_host_origin"})]})]})}}}]);
//# sourceMappingURL=607.d6b08411.chunk.js.map