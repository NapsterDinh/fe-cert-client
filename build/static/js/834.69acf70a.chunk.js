"use strict";(self.webpackChunkfe_client=self.webpackChunkfe_client||[]).push([[834],{3460:function(e,n,i){i.d(n,{Nl:function(){return o},Nn:function(){return r},XQ:function(){return t}});var s=i(9699),t=function(){return(0,s.mR)("/api/v1/topic/list")},o=function(){return(0,s.mR)("/api/v1/topic/full-list")},r=function(){return(0,s.mR)("/api/v1/topic/full-with-deleted")}},1834:function(e,n,i){i.r(n),i.d(n,{default:function(){return S}});var s=i(1413),t=i(5861),o=i(9439),r=i(7757),l=i.n(r),c=i(8875),a=i(7546),d=i(506),u=i(6922),v=i(729),h=i(505),x=i(7661),m=i(7528),f=i(9220),p=i(785),j=i(4814),b=i(4411),Z=i(3794),w=i(3460),N=i(4710),g=i(6915),y=i(2791),q=i(6030),C=i(9271),k=i(184),E=x.Z.TabPane,_=function(e){var n,i,s,t=e.data,r=e.currentOrder,l=(0,y.useState)(0),c=(0,o.Z)(l,2),a=c[0],d=c[1];return(0,y.useEffect)((function(){if(void 0===t)d(0);else{var e,n=0;null===t||void 0===t||null===(e=t.submissions)||void 0===e||e.map((function(e){e.correct&&n++})),d(n)}}),[t]),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"sticky-sidebar",children:(0,k.jsxs)("div",{className:"post-index hidden-sm-down",children:[(0,k.jsxs)("div",{className:"section-title-line",children:[(0,k.jsx)("h5",{className:"text-uppercase",children:"Question List"}),(0,k.jsx)("h2",{children:"".concat(a," / ").concat(null!==(n=null===t||void 0===t||null===(i=t.questions)||void 0===i?void 0:i.length)&&void 0!==n?n:0)})]}),(0,k.jsxs)("div",{className:"status-answer d-flex",children:[(0,k.jsx)("span",{className:"correct",children:"Corrected"}),(0,k.jsx)("span",{className:"incorrect",children:"Incorrected"})]}),(0,k.jsx)("hr",{}),(0,k.jsx)("div",{className:"question-container d-flex",children:null===t||void 0===t||null===(s=t.questions)||void 0===s?void 0:s.map((function(e,n){var i;return(0,k.jsx)(O,{item:e,index:n,currentOrder:r,submissionsItem:null===t||void 0===t||null===(i=t.submissions)||void 0===i?void 0:i.find((function(n){return n.question_id===e._id}))},e._id+n)}))})]})})})},O=function(e){e.item;var n=e.index,i=e.currentOrder,s=e.submissionsItem,t=(0,C.useHistory)(),o=(0,C.useLocation)(),r="list-item";return null!==s&&void 0!==s&&s.correct?r+=" correct":r+=" incorrect",n+1===i&&(r+=" selected"),(0,k.jsx)("span",{onClick:function(){return t.push("".concat(o.pathname,"?question=").concat(n+1))},className:r,children:(0,k.jsx)("span",{className:"text text-test",children:n+1})})},P=function(e){var n,i=e.item,s=(e.saveSelectedChoice,e.data),t=(e.setData,e.currentOrder,(0,C.useHistory)()),o=(0,C.useLocation)();return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"count-question",children:[(0,k.jsxs)("h1",{children:["Question ",i.index]}),(0,k.jsx)("div",{className:"question-content",dangerouslySetInnerHTML:{__html:null===i||void 0===i?void 0:i.question}}),(0,k.jsx)("hr",{}),(0,k.jsx)("span",{children:"Choose the correct answer"}),(0,k.jsx)("ul",{className:"choose-answer answer-mode",children:null===i||void 0===i||null===(n=i.choices)||void 0===n?void 0:n.map((function(e,n){var t,o,r,l;return(0,k.jsx)("li",{className:(null===s||void 0===s?void 0:s.hasShowRightAnswer)&&(null===s||void 0===s||null===(t=s.questions)||void 0===t||null===(o=t.find((function(e){return e._id===i._id})))||void 0===o?void 0:o.answer)===e._id&&"correct-choice",children:(0,k.jsx)(v.Z,{defaultChecked:(null===s||void 0===s||null===(r=s.submissions)||void 0===r||null===(l=r.find((function(e){return e.question_id===i._id})))||void 0===l?void 0:l.answers)===e._id,label:e.label,name:"group".concat(i._id),type:"radio",id:"inline-radio-".concat(e._id)})},e._id)}))}),(0,k.jsx)("hr",{}),(null===s||void 0===s?void 0:s.hasShowExplanation)&&""!==(null===i||void 0===i?void 0:i.explanation)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("h5",{children:"Explanation"}),(0,k.jsx)(p.Z,{message:null===i||void 0===i?void 0:i.explanation,type:"info"}),(0,k.jsx)("hr",{})]}),(0,k.jsxs)("div",{className:"question-action",children:[(0,k.jsx)(h.Z,{onClick:function(){t.push("".concat(o.pathname,"?question=").concat(i.index-1))},disabled:i.first,className:"btn-back",children:"Go back to previous"}),(0,k.jsx)(h.Z,{disabled:i.last,onClick:function(){t.push("".concat(o.pathname,"?question=").concat(i.index+1))},children:"Next question"}),(0,k.jsx)(h.Z,{onClick:function(){return window.location="/exams/".concat(null===s||void 0===s?void 0:s._id)},className:"btn-submit",children:"Try Test Again"})]})]})})},S=function(){var e,n=(0,y.useState)(""),i=(0,o.Z)(n,2),r=i[0],v=i[1],h=(0,C.useLocation)(),p=(0,y.useState)([]),O=(0,o.Z)(p,2),S=O[0],I=O[1],R=(0,q.I0)(),T=(0,q.v9)((function(e){return e.exam.exam})),A=null===new URLSearchParams(h.search).get("question")?1:parseInt(new URLSearchParams(h.search).get("question")),L=(0,C.useParams)().hashIdExamSession;(0,y.useEffect)((function(){(0,t.Z)(l().mark((function e(){var n,i,t,o,r,c,a,d,u,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Z.Mu)({userExam:L});case 3:return u=e.sent,e.next=6,(0,w.XQ)();case 6:v=e.sent,Q((0,s.Z)((0,s.Z)({},null===u||void 0===u||null===(n=u.data)||void 0===n?void 0:n.exam.result.exam),{},{questions:null===u||void 0===u||null===(i=u.data)||void 0===i||null===(t=i.exam.result)||void 0===t||null===(o=t.exam)||void 0===o||null===(r=o.questions)||void 0===r?void 0:r.filter((function(e){var n,i;return null===u||void 0===u||null===(n=u.data)||void 0===n||null===(i=n.exam.newSubmissions)||void 0===i?void 0:i.some((function(n){return n.question_id===e._id}))})).map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{question:decodeURIComponent(escape(window.atob(null===e||void 0===e?void 0:e.question))),explanation:decodeURIComponent(escape(window.atob(null===e||void 0===e?void 0:e.explanation)))})})),submissions:null===u||void 0===u||null===(c=u.data)||void 0===c?void 0:c.exam.newSubmissions,result:null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.exam.result})),I(null===v||void 0===v||null===(d=v.data)||void 0===d?void 0:d.topic),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]);var Q=function(e){R((0,N.w0)(e))};return(0,y.useEffect)((function(){""!==T&&v(null===A?(0,s.Z)((0,s.Z)({},T.questions[0]),{},{first:!0,index:0,last:!1}):(0,s.Z)((0,s.Z)({},T.questions[A-1]),{},{first:!1,index:A,last:A===T.questions.length}))}),[T]),(0,y.useEffect)((function(){""!==T&&v(null===A?(0,s.Z)((0,s.Z)({},T.questions[0]),{},{first:!0,index:0,last:!1}):(0,s.Z)((0,s.Z)({},T.questions[A-1]),{},{first:1===A,index:A,last:A===T.questions.length}))}),[h.search]),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(c.Z,{className:"d-flex container-card",children:(0,k.jsxs)(x.Z,{defaultActiveKey:"1",destroyInactiveTabPane:!0,className:"tabs-answer",children:[(0,k.jsx)(E,{tab:"Detail Answer Quiz",children:(0,k.jsxs)(a.Z,{className:"d-flex mt-3",children:[(0,k.jsx)(d.Z,{className:"layout-container-body answer quiz",children:(0,k.jsx)(_,{data:T,currentOrder:A})}),(0,k.jsx)(d.Z,{className:"layout-container-top quiz",children:(0,k.jsx)(P,{item:r,currentOrder:A,data:T,setData:Q})})]})},"1"),(0,k.jsx)(E,{tab:"Answer result statistics",children:(0,k.jsxs)(a.Z,{children:[(0,k.jsxs)(d.Z,{className:"mb-4",children:[(0,k.jsxs)("div",{style:{marginBottom:"20px",marginTop:"20px"},children:[(0,k.jsx)("h3",{children:"Topic division"}),(0,k.jsx)(j.Z,(0,s.Z)({width:450},(0,g.PM)(null===T||void 0===T?void 0:T.questions,S)))]}),(0,k.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,k.jsx)("h3",{children:"Answer rate"}),(0,k.jsx)(j.Z,(0,s.Z)({width:450},(0,g.bv)(null===T||void 0===T?void 0:T.questions,null===T||void 0===T?void 0:T.submissions)))]}),void 0!==(null===T||void 0===T?void 0:T.questions)&&0!==S.length&&void 0!==(null===T||void 0===T?void 0:T.submissions)&&(0,k.jsx)(b.S5,{data:(0,g.H$)(null===T||void 0===T?void 0:T.questions,S,null===T||void 0===T?void 0:T.submissions)})]}),(0,k.jsx)(d.Z,{className:"mb-4",children:(0,k.jsxs)(u.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:"#"}),(0,k.jsx)("th",{children:"Result"}),(0,k.jsx)("th",{children:"Question"}),(0,k.jsx)("th",{children:"Topic"})]})}),(0,k.jsx)("tbody",{className:"result-report",children:null===T||void 0===T||null===(e=T.submissions)||void 0===e?void 0:e.map((function(e,n){var i,s=null===T||void 0===T?void 0:T.questions.find((function(n){return e._id===n.question_id})),t="";return t=""===(null===e||void 0===e?void 0:e.answers)?"No Answer":e.correct?"Correct":"Incorrect",(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:n+1}),(0,k.jsxs)("td",{className:"td-correct-wrong",children:["No Answer"===t&&(0,k.jsx)(m.Z,{color:"#108ee9",children:t}),"Correct"===t&&(0,k.jsx)(m.Z,{color:"#87d068",children:t}),"Incorrect"===t&&(0,k.jsx)(m.Z,{color:"#f50",children:t})]}),(0,k.jsx)("td",{className:"td-question",children:(0,k.jsx)(f.Z,{title:s.question,children:s.question})}),(0,k.jsx)("td",{children:null===S||void 0===S||null===(i=S.find((function(e){return e._id===s.topic})))||void 0===i?void 0:i.title})]},e._id)}))})]})})]})},"2")]})})})}},6922:function(e,n,i){var s=i(7462),t=i(3366),o=i(1694),r=i.n(o),l=i(2791),c=i(9496),a=l.forwardRef((function(e,n){var i=e.bsPrefix,o=e.className,a=e.striped,d=e.bordered,u=e.borderless,v=e.hover,h=e.size,x=e.variant,m=e.responsive,f=(0,t.Z)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),p=(0,c.vE)(i,"table"),j=r()(o,p,x&&p+"-"+x,h&&p+"-"+h,a&&p+"-striped",d&&p+"-bordered",u&&p+"-borderless",v&&p+"-hover"),b=l.createElement("table",(0,s.Z)({},f,{className:j,ref:n}));if(m){var Z=p+"-responsive";return"string"===typeof m&&(Z=Z+"-"+m),l.createElement("div",{className:Z},b)}return b}));n.Z=a},7528:function(e,n,i){i.d(n,{Z:function(){return w}});var s=i(4942),t=i(7462),o=i(9439),r=i(2791),l=i(1694),c=i.n(l),a=i(1818),d=i(732),u=i(9077),v=function(e,n){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(s=Object.getOwnPropertySymbols(e);t<s.length;t++)n.indexOf(s[t])<0&&Object.prototype.propertyIsEnumerable.call(e,s[t])&&(i[s[t]]=e[s[t]])}return i},h=function(e){var n,i=e.prefixCls,o=e.className,l=e.checked,a=e.onChange,d=e.onClick,h=v(e,["prefixCls","className","checked","onChange","onClick"]),x=(0,r.useContext(u.E_).getPrefixCls)("tag",i),m=c()(x,(n={},(0,s.Z)(n,"".concat(x,"-checkable"),!0),(0,s.Z)(n,"".concat(x,"-checkable-checked"),l),n),o);return r.createElement("span",(0,t.Z)({},h,{className:m,onClick:function(e){null===a||void 0===a||a(!l),null===d||void 0===d||d(e)}}))},x=i(4466),m=i(2833),f=function(e,n){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(s=Object.getOwnPropertySymbols(e);t<s.length;t++)n.indexOf(s[t])<0&&Object.prototype.propertyIsEnumerable.call(e,s[t])&&(i[s[t]]=e[s[t]])}return i},p=new RegExp("^(".concat(x.Y.join("|"),")(-inverse)?$")),j=new RegExp("^(".concat(x.E.join("|"),")$")),b=function(e,n){var i,l=e.prefixCls,v=e.className,h=e.style,x=e.children,b=e.icon,Z=e.color,w=e.onClose,N=e.closeIcon,g=e.closable,y=void 0!==g&&g,q=f(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),C=r.useContext(u.E_),k=C.getPrefixCls,E=C.direction,_=r.useState(!0),O=(0,o.Z)(_,2),P=O[0],S=O[1];r.useEffect((function(){"visible"in q&&S(q.visible)}),[q.visible]);var I=function(){return!!Z&&(p.test(Z)||j.test(Z))},R=(0,t.Z)({backgroundColor:Z&&!I()?Z:void 0},h),T=I(),A=k("tag",l),L=c()(A,(i={},(0,s.Z)(i,"".concat(A,"-").concat(Z),T),(0,s.Z)(i,"".concat(A,"-has-color"),Z&&!T),(0,s.Z)(i,"".concat(A,"-hidden"),!P),(0,s.Z)(i,"".concat(A,"-rtl"),"rtl"===E),i),v),Q=function(e){e.stopPropagation(),null===w||void 0===w||w(e),e.defaultPrevented||"visible"in q||S(!1)},z="onClick"in q||x&&"a"===x.type,F=(0,a.Z)(q,["visible"]),H=b||null,U=H?r.createElement(r.Fragment,null,H,r.createElement("span",null,x)):x,D=r.createElement("span",(0,t.Z)({},F,{ref:n,className:L,style:R}),U,y?N?r.createElement("span",{className:"".concat(A,"-close-icon"),onClick:Q},N):r.createElement(d.Z,{className:"".concat(A,"-close-icon"),onClick:Q}):null);return z?r.createElement(m.Z,null,D):D},Z=r.forwardRef(b);Z.displayName="Tag",Z.CheckableTag=h;var w=Z}}]);
//# sourceMappingURL=834.69acf70a.chunk.js.map