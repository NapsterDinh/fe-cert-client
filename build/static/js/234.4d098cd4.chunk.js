"use strict";(self.webpackChunkfe_client=self.webpackChunkfe_client||[]).push([[234],{2040:function(e,n,t){t.d(n,{Z:function(){return f}});var i=t(5861),a=t(9439),s=t(7757),r=t.n(s),c=t(2791),o=function(e){return[Math.floor(e/864e5),Math.floor(e%864e5/36e5),Math.floor(e%36e5/6e4),Math.floor(e%6e4/1e3)]},u=function(e){var n=new Date(e).getTime(),t=(0,c.useState)(n-(new Date).getTime()),i=(0,a.Z)(t,2),s=i[0],r=i[1];return(0,c.useEffect)((function(){var e=setInterval((function(){r(n-(new Date).getTime())}),1e3);return function(){return clearInterval(e)}}),[n]),o(s)},l=t(184),d=function(){return(0,l.jsxs)("div",{className:"expired-notice",children:[(0,l.jsx)("span",{children:"Expired!!!"}),(0,l.jsx)("p",{children:"Please select a future date and time."})]})},m=function(e){e.days;var n=e.hours,t=e.minutes,i=e.seconds;return(0,l.jsxs)("div",{className:"show-counter d-flex",children:[(0,l.jsx)(v,{value:n,type:"h",isDanger:!1}),(0,l.jsx)(v,{value:t,type:"m",isDanger:!1}),(0,l.jsx)(v,{value:i,type:"s",isDanger:!1})]})},v=function(e){var n=e.value,t=e.type,i=e.isDanger;return(0,l.jsx)("div",{className:i?"countdown danger mx-1":"countdown mx-1",children:(0,l.jsx)("h2",{children:"".concat(n).concat(t)})})},f=function(e){var n=e.targetDate,t=e.onSubmitExam,s=u(n),c=(0,a.Z)(s,4),o=c[0],v=c[1],f=c[2],x=c[3];return o+v+f+x<0?((0,i.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})))(),(0,l.jsx)(d,{})):(0,l.jsx)(m,{days:o,hours:v,minutes:f,seconds:x})}},2800:function(e,n,t){t.d(n,{F:function(){return u}});var i=t(1413),a=t(5987),s=t(8196),r=t(505),c=t(184),o=["nameExam","onSubmit","warning"],u=function(e){var n=e.nameExam,t=e.onSubmit,u=e.warning,l=(0,a.Z)(e,o);return(0,c.jsxs)(s.Z,(0,i.Z)((0,i.Z)({},l),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,c.jsx)(s.Z.Header,{closeButton:!0,children:(0,c.jsx)(s.Z.Title,{id:"contained-modal-title-vcenter",children:n})}),(0,c.jsxs)(s.Z.Body,{children:[(0,c.jsx)("h4",{children:"Submit Exam Test"}),(0,c.jsx)("p",{children:u})]}),(0,c.jsxs)(s.Z.Footer,{children:[(0,c.jsx)(r.Z,{variant:"secondary",onClick:l.onHide,children:"Close"}),(0,c.jsx)(r.Z,{variant:"primary",onClick:t,children:"Submit"})]})]}))}},6077:function(e,n,t){t.d(n,{EG:function(){return a},IV:function(){return r},ZF:function(){return s}});var i=t(9699),a=function(e){return(0,i.d8)("/api/v1/exam/create-random-session",e)},s=function(e){return(0,i.d8)("/api/v1/exam/create-random-topic-session",e)},r=function(e){return(0,i.mR)("/api/v1/exam/current-random-session?type=".concat(e))}},6184:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var i=t(1413),a=t(3433),s=t(5861),r=t(9439),c=t(7757),o=t.n(c),u=t(8875),l=t(506),d=t(3794),m=t(6077),v=t(2791),f=t(9271),x=t(729),p=t(505),h=t(2800),b=t(184),Z=function(e){var n,t,i=e.idExam,c=e.item,u=e.saveSelectedChoice,l=e.data,m=e.submissionArray,Z=e.setSubmissionArray,w=e.selected,y=e.setSelected,j=(0,f.useHistory)(),k=(0,v.useState)(!1),N=(0,r.Z)(k,2),S=N[0],q=N[1],g=(0,v.useState)(" Please sure you answered all of questions. After submission, you can't change any your choice of questions\n    Are you sure to submit ?"),C=(0,r.Z)(g,2),E=C[0],I=C[1],_=function(){var e=(0,s.Z)(o().mark((function e(){var n,t,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===(n=(0,a.Z)(m).findIndex((function(e){return e.question_id===c._id})))){e.next=14;break}return t={exam:i,submissions:{answers:null,question_id:c._id}},e.prev=3,e.next=6,(0,d.p3)(t);case 6:y(void 0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:(s=(0,a.Z)(m)).splice(n,1),Z(s);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,s.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={exam:i},e.prev=1,e.next=4,(0,d.u_)(n);case 4:t=e.sent,window.location="/practice/".concat(i,"/attempt/").concat(t.data.exam,"/result"),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){var e=null===m||void 0===m?void 0:m.find((function(e){return e.question_id===c._id}));y(void 0!==e?e.answers:void 0)}),[m,c]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.F,{show:S,onHide:function(){return q(!1)},nameExam:null===l||void 0===l||null===(n=l.exam)||void 0===n?void 0:n.title,onSubmit:P,warning:E}),(0,b.jsxs)("div",{className:"count-question",children:[(0,b.jsxs)("h1",{children:["Question ",c.index]}),(0,b.jsx)("div",{className:"question-content",dangerouslySetInnerHTML:{__html:null===c||void 0===c?void 0:c.question}}),(0,b.jsx)("hr",{}),(0,b.jsx)("span",{children:"Choose the correct answer"}),(0,b.jsx)("ul",{className:"choose-answer",children:null===c||void 0===c||null===(t=c.choices)||void 0===t?void 0:t.map((function(e,n){return(0,b.jsx)("li",{children:(0,b.jsx)(x.Z,{checked:w===e._id,onChange:function(){return y(e._id)},label:e.label,name:"group".concat(c._id),type:"radio",id:"inline-radio-".concat(e._id)})},e._id)}))}),(0,b.jsx)("hr",{}),(0,b.jsx)("a",{onClick:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:"clear-answer",children:"Clear Answer"}),(0,b.jsxs)("div",{className:"question-action",children:[(0,b.jsx)(p.Z,{onClick:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(w);case 2:j.push("/practice/".concat(i,"/attempt?question=").concat(c.index-1));case 3:case"end":return e.stop()}}),e)}))),disabled:c.first,className:"btn-back",children:"Go back to previous"}),(0,b.jsx)(p.Z,{disabled:c.last,onClick:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(w);case 2:j.push("/practice/".concat(i,"/attempt?question=").concat(c.index+1));case 3:case"end":return e.stop()}}),e)}))),children:"Save and next question"}),(0,b.jsx)(p.Z,{onClick:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(w);case 2:(null===m||void 0===m?void 0:m.length)===(null===l||void 0===l?void 0:l.questions)&&null!==m&&void 0!==m&&m.some((function(e){return null===e.answer}))&&I("You has to finish all of question in this exam before submitting. Are you sure to keep submitting ?"),q(!0);case 4:case"end":return e.stop()}}),e)}))),className:"btn-submit",children:"Submit"})]})]})]})},w=t(2040),y=function(e){var n=e.item,t=e.index,i=e.currentOrder,a=e.submissionArray,r=e.selected,c=e.saveSelectedChoice,u=(0,f.useParams)().idPractice,l=(0,f.useHistory)(),d="list-item";return void 0!==(null===a||void 0===a?void 0:a.find((function(e){return e.question_id===n._id})))&&(d+=" answered"),t+1===i&&(d+=" selected"),(0,b.jsx)("span",{onClick:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(r);case 2:l.push("/practice/".concat(u,"/attempt?question=").concat(t+1));case 3:case"end":return e.stop()}}),e)}))),className:d,children:(0,b.jsx)("span",{className:"text text-test",children:t+1})})},j=function(e){var n,t=e.data,i=e.currentOrder,a=e.statTime,s=e.submissionArray,r=e.selected,c=e.saveSelectedChoice;return(0,b.jsx)("div",{className:"sticky-sidebar",children:(0,b.jsxs)("div",{className:"post-index hidden-sm-down",children:[(0,b.jsxs)("div",{className:"section-title-line",children:[(0,b.jsx)("h5",{className:"text-uppercase",children:"Question List"}),(0,b.jsx)(w.Z,{targetDate:new Date(new Date(a).getTime()+1e3*parseInt(null===t||void 0===t?void 0:t.time)-1)})]}),(0,b.jsxs)("div",{className:"status-answer d-flex",children:[(0,b.jsx)("span",{children:"Available"}),(0,b.jsx)("span",{className:"answered",children:"Answered"})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("div",{className:"question-container d-flex",children:null===t||void 0===t||null===(n=t.questions)||void 0===n?void 0:n.map((function(e,n){return(0,b.jsx)(y,{submissionArray:s,item:e,index:n,currentOrder:i,selected:r,saveSelectedChoice:c},"questionListItem".concat(n).concat(e._id))}))})]})})},k=function(){var e=(0,v.useState)(""),n=(0,r.Z)(e,2),t=n[0],c=n[1],x=(0,v.useState)(""),p=(0,r.Z)(x,2),h=p[0],w=p[1],y=(0,v.useState)([]),k=(0,r.Z)(y,2),N=k[0],S=k[1],q=(0,v.useState)(""),g=(0,r.Z)(q,2),C=g[0],E=g[1],I=(0,v.useState)(void 0),_=(0,r.Z)(I,2),P=_[0],A=_[1],F=(0,f.useLocation)(),T=(0,f.useParams)().idPractice,L=null===new URLSearchParams(F.search).get("question")?1:parseInt(new URLSearchParams(F.search).get("question")),R=null===new URLSearchParams(F.search).get("type")?1:new URLSearchParams(F.search).get("type"),D=function(){var e=(0,s.Z)(o().mark((function e(n){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n){e.next=12;break}return t={exam:T,submissions:{answers:n,question_id:h._id}},e.prev=2,e.next=5,(0,d.p3)(t);case 5:(i=(0,a.Z)(N)).push({answers:n,question_id:h._id}),S(i),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,v.useLayoutEffect)((function(){(0,s.Z)(o().mark((function e(){var n,t,a,s,r,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.IV)(R);case 3:l=e.sent,c((0,i.Z)((0,i.Z)({},null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.exam.exam),{},{questions:null===l||void 0===l||null===(t=l.data)||void 0===t||null===(a=t.exam.exam)||void 0===a?void 0:a.questions.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{question:decodeURIComponent(escape(window.atob(null===e||void 0===e?void 0:e.question))),explanation:decodeURIComponent(escape(window.atob(null===e||void 0===e?void 0:e.explanation)))})}))})),S(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.exam.submissions),E(null===l||void 0===l||null===(r=l.data)||void 0===r||null===(u=r.exam)||void 0===u?void 0:u.createdAt),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),(0,v.useLayoutEffect)((function(){""!==t&&w(null===L?(0,i.Z)((0,i.Z)({},t.questions[0]),{},{first:!0,index:0,last:!1}):(0,i.Z)((0,i.Z)({},t.questions[L-1]),{},{first:!1,index:L,last:L===t.questions.length}))}),[t,L]),(0,b.jsxs)(u.Z,{className:"d-flex container-card",children:[(0,b.jsx)(l.Z,{className:"layout-container-body quiz",children:(0,b.jsx)(j,{submissionArray:N,saveSelectedChoice:D,selected:P,data:t,currentOrder:L,statTime:C})}),(0,b.jsx)(l.Z,{className:"layout-container-top quiz",children:(0,b.jsx)(Z,{idExam:T,item:h,saveSelectedChoice:D,data:t,submissionArray:N,setSubmissionArray:S,selected:P,setSelected:A})})]})}},6556:function(e,n,t){var i=t(7462),a=t(3366),s=t(1694),r=t.n(s),c=t(2791),o=t(2007),u=t.n(o),l={type:u().string,tooltip:u().bool,as:u().elementType},d=c.forwardRef((function(e,n){var t=e.as,s=void 0===t?"div":t,o=e.className,u=e.type,l=void 0===u?"valid":u,d=e.tooltip,m=void 0!==d&&d,v=(0,a.Z)(e,["as","className","type","tooltip"]);return c.createElement(s,(0,i.Z)({},v,{ref:n,className:r()(o,l+"-"+(m?"tooltip":"feedback"))}))}));d.displayName="Feedback",d.propTypes=l,n.Z=d},729:function(e,n,t){t.d(n,{Z:function(){return x}});var i=t(7462),a=t(3366),s=t(1694),r=t.n(s),c=t(2791),o=t(6556),u=t(2611),l=t(3255),d=t(9496),m=c.forwardRef((function(e,n){var t=e.bsPrefix,s=e.className,o=e.htmlFor,u=(0,a.Z)(e,["bsPrefix","className","htmlFor"]),m=(0,c.useContext)(l.Z).controlId;return t=(0,d.vE)(t,"form-check-label"),c.createElement("label",(0,i.Z)({},u,{ref:n,htmlFor:o||m,className:r()(s,t)}))}));m.displayName="FormCheckLabel";var v=m,f=c.forwardRef((function(e,n){var t=e.id,s=e.bsPrefix,m=e.bsSwitchPrefix,f=e.inline,x=void 0!==f&&f,p=e.disabled,h=void 0!==p&&p,b=e.isValid,Z=void 0!==b&&b,w=e.isInvalid,y=void 0!==w&&w,j=e.feedbackTooltip,k=void 0!==j&&j,N=e.feedback,S=e.className,q=e.style,g=e.title,C=void 0===g?"":g,E=e.type,I=void 0===E?"checkbox":E,_=e.label,P=e.children,A=e.as,F=void 0===A?"input":A,T=(0,a.Z)(e,["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","as"]);s=(0,d.vE)(s,"form-check"),m=(0,d.vE)(m,"form-switch");var L=(0,c.useContext)(l.Z).controlId,R=(0,c.useMemo)((function(){return{controlId:t||L}}),[L,t]),D=null!=_&&!1!==_&&!P,V=c.createElement(u.Z,(0,i.Z)({},T,{type:"switch"===I?"checkbox":I,ref:n,isValid:Z,isInvalid:y,disabled:h,as:F}));return c.createElement(l.Z.Provider,{value:R},c.createElement("div",{style:q,className:r()(S,_&&s,x&&s+"-inline","switch"===I&&m)},P||c.createElement(c.Fragment,null,V,D&&c.createElement(v,{title:C},_),(Z||y)&&c.createElement(o.Z,{type:Z?"valid":"invalid",tooltip:k},N))))}));f.displayName="FormCheck",f.Input=u.Z,f.Label=v;var x=f},2611:function(e,n,t){var i=t(7462),a=t(3366),s=t(1694),r=t.n(s),c=t(2791),o=t(3255),u=t(9496),l=c.forwardRef((function(e,n){var t=e.id,s=e.bsPrefix,l=e.className,d=e.type,m=void 0===d?"checkbox":d,v=e.isValid,f=void 0!==v&&v,x=e.isInvalid,p=void 0!==x&&x,h=e.as,b=void 0===h?"input":h,Z=(0,a.Z)(e,["id","bsPrefix","className","type","isValid","isInvalid","as"]),w=(0,c.useContext)(o.Z).controlId;return s=(0,u.vE)(s,"form-check-input"),c.createElement(b,(0,i.Z)({},Z,{ref:n,type:m,id:t||w,className:r()(l,s,f&&"is-valid",p&&"is-invalid")}))}));l.displayName="FormCheckInput",n.Z=l},3255:function(e,n,t){var i=t(2791).createContext({controlId:void 0});n.Z=i},2625:function(e,n,t){var i=t(7462),a=t(2791),s=t(1694),r=t.n(s);n.Z=function(e){return a.forwardRef((function(n,t){return a.createElement("div",(0,i.Z)({},n,{ref:t,className:r()(n.className,e)}))}))}}}]);
//# sourceMappingURL=234.4d098cd4.chunk.js.map